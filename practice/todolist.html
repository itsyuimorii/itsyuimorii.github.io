<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TodoList App | â˜» itsyuimorii.space</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.204ed3d4.js" as="script"><link rel="preload" href="/assets/js/2.a44fb3b0.js" as="script"><link rel="preload" href="/assets/js/1.8d37d391.js" as="script"><link rel="preload" href="/assets/js/56.710acef5.js" as="script"><link rel="prefetch" href="/assets/js/10.d8df69df.js"><link rel="prefetch" href="/assets/js/11.2a97faa3.js"><link rel="prefetch" href="/assets/js/12.5fd72f78.js"><link rel="prefetch" href="/assets/js/13.767d92f0.js"><link rel="prefetch" href="/assets/js/14.09112e04.js"><link rel="prefetch" href="/assets/js/15.2d87bde7.js"><link rel="prefetch" href="/assets/js/16.d6bec5e2.js"><link rel="prefetch" href="/assets/js/17.3dbcb51f.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.1b72b4a4.js"><link rel="prefetch" href="/assets/js/20.9741499c.js"><link rel="prefetch" href="/assets/js/21.7f8f7869.js"><link rel="prefetch" href="/assets/js/22.3f20ce36.js"><link rel="prefetch" href="/assets/js/23.7c0322e8.js"><link rel="prefetch" href="/assets/js/24.fa4b7294.js"><link rel="prefetch" href="/assets/js/25.4b75e33e.js"><link rel="prefetch" href="/assets/js/26.6ccb7807.js"><link rel="prefetch" href="/assets/js/27.6c078df5.js"><link rel="prefetch" href="/assets/js/28.520f43fd.js"><link rel="prefetch" href="/assets/js/29.844af673.js"><link rel="prefetch" href="/assets/js/3.f8c28e7e.js"><link rel="prefetch" href="/assets/js/30.b352e55d.js"><link rel="prefetch" href="/assets/js/31.c2296a43.js"><link rel="prefetch" href="/assets/js/32.f990ea1b.js"><link rel="prefetch" href="/assets/js/33.e2f64269.js"><link rel="prefetch" href="/assets/js/34.b9fe4fba.js"><link rel="prefetch" href="/assets/js/35.6015d88a.js"><link rel="prefetch" href="/assets/js/36.2ee99065.js"><link rel="prefetch" href="/assets/js/37.9bd0a687.js"><link rel="prefetch" href="/assets/js/38.04db86c7.js"><link rel="prefetch" href="/assets/js/39.1fe91b86.js"><link rel="prefetch" href="/assets/js/4.9eb8282d.js"><link rel="prefetch" href="/assets/js/40.43f0acc3.js"><link rel="prefetch" href="/assets/js/41.7bcb3391.js"><link rel="prefetch" href="/assets/js/42.d64e546e.js"><link rel="prefetch" href="/assets/js/43.a2cbbfc3.js"><link rel="prefetch" href="/assets/js/44.0492f992.js"><link rel="prefetch" href="/assets/js/45.af66bbe7.js"><link rel="prefetch" href="/assets/js/46.c1c9a53c.js"><link rel="prefetch" href="/assets/js/47.7a2bd268.js"><link rel="prefetch" href="/assets/js/48.0376d3a5.js"><link rel="prefetch" href="/assets/js/49.60535624.js"><link rel="prefetch" href="/assets/js/5.4ceb5601.js"><link rel="prefetch" href="/assets/js/50.88e721ab.js"><link rel="prefetch" href="/assets/js/51.a1a8ca8d.js"><link rel="prefetch" href="/assets/js/52.19d2519d.js"><link rel="prefetch" href="/assets/js/53.891befed.js"><link rel="prefetch" href="/assets/js/54.b3d8b254.js"><link rel="prefetch" href="/assets/js/55.a4b8b234.js"><link rel="prefetch" href="/assets/js/6.cb88f024.js"><link rel="prefetch" href="/assets/js/7.0f51d652.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8ee43d73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">â˜» itsyuimorii.space</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="mobile-dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ã€Œå­¦ç¿’ãƒãƒ¼ãƒˆã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  â–«ï¸ React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  â–«ï¸ Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  â–«ï¸ Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link">
  â–«ï¸ Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          ã€Œãƒ¡ãƒ¢å¸³ã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link">
  â–«ï¸ memoãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link router-link-active">
  â–«ï¸ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="mobile-dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ãƒ©ã‚¤ãƒ•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  èª­æ›¸ãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="mobile-dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ã€Œå­¦ç¿’ãƒãƒ¼ãƒˆã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  â–«ï¸ React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  â–«ï¸ Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  â–«ï¸ Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link">
  â–«ï¸ Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          ã€Œãƒ¡ãƒ¢å¸³ã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link">
  â–«ï¸ memoãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link router-link-active">
  â–«ï¸ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="mobile-dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ãƒ©ã‚¤ãƒ•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  èª­æ›¸ãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/practice/" aria-current="page" class="sidebar-link">ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</a></li><li><a href="/practice/todolist.html" aria-current="page" class="active sidebar-link">TodoList App</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/todolist.html#ãƒ•ã‚šãƒ­ã‚·ã‚™ã‚§ã‚¯ãƒˆã®æ§‹æˆ" class="sidebar-link">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆ</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#tdinput-component" class="sidebar-link">TdInput Component</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#tdlist-component" class="sidebar-link">TdList Component</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#tditem-component" class="sidebar-link">TdItem Component</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/todolist.html#å®šç¾©-inputref" class="sidebar-link">å®šç¾© inputRef</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#å®šç¾©-itodo-æ¥å£" class="sidebar-link">å®šç¾© Itodo æ¥å£</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#å®šç¾©-iprops-src-components-todolist-input-index-tsx" class="sidebar-link">å®šç¾© Iprops src/components/TodoList/Input/index.tsx</a></li></ul></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#todolist-çˆ¶çµ„ä»¶" class="sidebar-link">TodoList çˆ¶çµ„ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/todolist.html#ä½¿ç”¨-usereducer-æ›¿ä»£-usestate" class="sidebar-link">ä½¿ç”¨ useReducer æ›¿ä»£ useState</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#åˆ†æ-1-è¦ªã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã‹ã‚™å­ã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã«æä¾›ã™ã‚‹-addtodo-é–¢æ•°ã‚’ç†è§£ã™ã‚‹ã«ã¯" class="sidebar-link">åˆ†æ 1ï¼šè¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æä¾›ã™ã‚‹ addTodo é–¢æ•°ã‚’ç†è§£ã™ã‚‹ã«ã¯ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#åˆ†æ-3-ä»€éº¼æ˜¯-action-creator-è¿”å›ç´”å‡½æ•¸çš„æ„æ€æ˜¯" class="sidebar-link">åˆ†æ 3 ä»€éº¼æ˜¯ action creatorï¼Ÿ è¿”å›ç´”å‡½æ•¸çš„æ„æ€æ˜¯ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#åˆ†æ-4-iprops" class="sidebar-link">åˆ†æ 4ï¼š Iprops</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#iprops-interface-for-tdinput-component" class="sidebar-link">IProps Interface for TdInput Component:</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#iprops-interface-for-tdlist-component" class="sidebar-link">IProps Interface for TdList Component:</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#common-aspects" class="sidebar-link">Common Aspects:</a></li><li class="sidebar-sub-header"><a href="/practice/todolist.html#iprops-in-the-todolist-input-index-tsx" class="sidebar-link">IProps in the TodoList&gt;input&gt;index.tsx</a></li></ul></li></ul></li><li><a href="/practice/shoppingcart.html" class="sidebar-link">React and TypeScript Shopping Cart Application</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-cartprovider-component" class="sidebar-link">ğŸ”· CartProvider Component</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_1-type-definitions" class="sidebar-link">1. Type Definitions</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_2-action-types-definition" class="sidebar-link">2. Action Types Definition</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_3-reducer-function" class="sidebar-link">3. Reducer Function</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_4-custom-hook-usecartcontext" class="sidebar-link">4. Custom Hook: useCartContext</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_5-react-context-and-provider" class="sidebar-link">5. React Context and Provider</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#usage-instructions" class="sidebar-link">Usage Instructions</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”»-cartprovider-code-review" class="sidebar-link">ğŸ”» CartProvider Code review</a></li></ul></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-productsprovider-component" class="sidebar-link">ğŸ”· ProductsProvider Component</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_1-type-definitions-2" class="sidebar-link">1. Type Definitions</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_2-initial-state" class="sidebar-link">2. Initial State</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_3-context-type-definition" class="sidebar-link">3. Context Type Definition</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_4-react-context-and-provider" class="sidebar-link">4. React Context and Provider</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#_5-fetching-and-updating-product-data" class="sidebar-link">5. Fetching and Updating Product Data</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#usage-instructions-2" class="sidebar-link">Usage Instructions</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”»-productsprovider-code-review" class="sidebar-link">ğŸ”» ProductsProvider Code review</a></li></ul></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-hooks-useproducts-hook" class="sidebar-link">ğŸ”· Hooks/useProducts Hook</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-hooks-usecart-hook" class="sidebar-link">ğŸ”· Hooks/useCart Hook</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-components-productlist" class="sidebar-link">ğŸ”· components/ProductList</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ğŸ”·-components-product" class="sidebar-link">ğŸ”· components/Product</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#ãƒˆãƒ©ãƒ•ã‚™ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚¯ã‚™" class="sidebar-link">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#â–«ï¸-usecartcontext-hooks" class="sidebar-link">â–«ï¸ useCartContext hooks</a></li><li class="sidebar-sub-header"><a href="/practice/shoppingcart.html#â–«ï¸-usecartcontexttype" class="sidebar-link">â–«ï¸ UseCartContextType</a></li></ul></li></ul></li><li><a href="/practice/github.html" class="sidebar-link">/practice/github.html</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="todolist-app"><a href="#todolist-app" class="header-anchor">#</a> TodoList App</h1> <h2 id="ãƒ•ã‚šãƒ­ã‚·ã‚™ã‚§ã‚¯ãƒˆã®æ§‹æˆ"><a href="#ãƒ•ã‚šãƒ­ã‚·ã‚™ã‚§ã‚¯ãƒˆã®æ§‹æˆ" class="header-anchor">#</a> ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆ</h2> <ul><li><p><code>TodoList</code></p> <ul><li>Manages the overall state of the todo list.</li> <li>Provides the <code>addTodo</code> function to add new todos.</li> <li>Logs the current state of the todo list.</li> <li><code>index</code>:<code>TdList</code> &amp; <code>TdInput</code></li></ul></li> <li><p><code>Input(TdInput)</code>: Responsible for the input field</p> <ul><li><code>index:</code> Main view with the input field</li> <li>Handles user input for adding new todos.</li> <li>Validates input and prevents the addition of duplicate todos.</li> <li>Calls the parent's <code>TodoList</code> addTodo function to update the todo list.</li></ul></li> <li><p><code>List(TdList)</code>: Responsible for displaying the list of todos</p> <ul><li><code>index(TdList)</code>:Manages and displays all items in the list (including all TdItems)</li> <li><code>Item(TdItem)</code>: Responsible for displaying a single item</li></ul></li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TdInput <span class="token keyword">from</span> <span class="token string">&quot;./Input&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TdList <span class="token keyword">from</span> <span class="token string">&quot;./List&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TodoList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdInput</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdList</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span>
</code></pre></div><h2 id="tdinput-component"><a href="#tdinput-component" class="header-anchor">#</a> TdInput Component</h2> <ol><li>Input Handling:</li></ol> <ul><li>Utilizes the <code>useRef</code> hook to create a reference (<code>inputRef</code>) to the input element. This reference is used to access the input element's value imperatively.</li> <li>Defines a function (<code>handleAddTodoItem</code>) to handle the addition of new todo items based on user input.</li></ul> <ol start="2"><li>Validation and Interaction:</li></ol> <ul><li>Ensures that the input value is trimmed and not empty. Displays an alert if a todo with the same content already exists.</li> <li>Calls the <code>addTodo</code> function passed as a prop from the parent component (TodoList) to add a new todo item.</li></ul> <ol start="3"><li>User Interface:</li></ol> <ul><li>Renders an input field and a button within a div with the class &quot;todo-input.&quot;</li> <li>The button triggers the <code>handleAddTodoItem</code> function when clicked.</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TdInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter your todo here<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TdInput<span class="token punctuation">;</span>
</code></pre></div><h2 id="tdlist-component"><a href="#tdlist-component" class="header-anchor">#</a> TdList Component</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TdItem <span class="token keyword">from</span> <span class="token string">&quot;./Item&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TdList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>td-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdItem</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TdList<span class="token punctuation">;</span>
</code></pre></div><h2 id="tditem-component"><a href="#tditem-component" class="header-anchor">#</a> TdItem Component</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// Each item</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TdItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Placeholder text here</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TdItem<span class="token punctuation">;</span>
</code></pre></div><ul><li><p><strong>Props:</strong> Every functional component (<code>FC</code>) has a collection of external properties (<code>props</code>) that it can receive. However, in the provided <code>TdItem</code> component, no props are explicitly defined or used.</p></li> <li><p><strong>Return Value:</strong> Every functional component returns a <code>ReactElement</code>, which is an object containing properties such as <code>type</code>, <code>props</code>, <code>ref</code>, <code>key</code>, etc.</p></li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">FC</span><span class="token punctuation">,</span> ReactElement<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// IProps is a generic parameter, indicating the expected type of properties (props) this component should receive.</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// The component (TdInput) is declared with the FC (FunctionComponent) type, as it uses ref, and for that, generics are needed.</span>
<span class="token keyword">const</span> <span class="token literal-property property">TdInput</span><span class="token operator">:</span> <span class="token constant">FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = (</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain-text">): ReactElement =&gt; </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain-text">;
</span></code></pre></div><blockquote><p>Takeaways:</p></blockquote> <ul><li><strong>Prop</strong>: In functional components, external properties are received through the props collection. æ¯ä¸€å€‹å‡½æ•¸çµ„ä»¶éƒ½æœ‰ä¸€å€‹å¤–éƒ¨å‚³å…¥çš„ props å±¬æ€§é›†åˆã€‚</li> <li>Every functional component has a return value, which is a ReactElement object, representing JSX. æ¯ä¸€å€‹å‡½æ•¸çµ„ä»¶æ˜¯æœ‰ä¸€å€‹è¿”å›å€¼çš„ï¼Œè¿”å›çš„æ˜¯ ReactElement å°è±¡,å³ jsx</li> <li><strong>ReactElement Object</strong>: A comprehensive object containing properties like type, props, ref, key, etc.</li></ul> <blockquote><p>Explanation:</p></blockquote> <ul><li>Props, short for properties, are external attributes passed to functional components.</li> <li>Functional components, unlike class components, inherently produce ReactElement objects as their output.</li> <li>A ReactElement is an object encapsulating information such as the component type, its properties (props),
references (ref), keys, and more, making it a fundamental unit in React's rendering process.</li></ul> <p>In summary, functional components receive external attributes through props and, in turn, generate ReactElement objects, forming the basis of JSX rendering in React applications.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">FC</span><span class="token punctuation">,</span> ReactElement<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// IProps is a generic parameter, indicating the expected type of properties (props) this component should receive.</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// The component (TdInput) is declared with the FC (FunctionComponent) type, as it uses ref, and for that, generics are needed.</span>
<span class="token keyword">const</span> <span class="token literal-property property">TdInput</span><span class="token operator">:</span> <span class="token constant">FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = (</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain-text">): ReactElement =&gt; </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain-text">;
</span></code></pre></div><blockquote><p><strong>Explanation</strong>: The TdInput component is a functional component that is expected to receive props conforming to the IProps interface. It uses the FC (FunctionComponent) type, a generic type provided by React for defining functional components. The function returns a React element (ReactElement), indicating that this component will render JSX. The empty object ({}) in the parameter list represents the expected props, and it can be adjusted based on the actual props needed by the component. This component is defined to handle input functionality within the TodoList app.</p></blockquote> <h3 id="å®šç¾©-inputref"><a href="#å®šç¾©-inputref" class="header-anchor">#</a> å®šç¾© inputRef</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> inputRef <span class="token operator">=</span> useRef <span class="token operator">&lt;</span> HTMLInputElement <span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å®šç¾©-itodo-æ¥å£"><a href="#å®šç¾©-itodo-æ¥å£" class="header-anchor">#</a> å®šç¾© Itodo æ¥å£</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">interface</span> <span class="token class-name">Itodo</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">status</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å®šç¾©-iprops-src-components-todolist-input-index-tsx"><a href="#å®šç¾©-iprops-src-components-todolist-input-index-tsx" class="header-anchor">#</a> å®šç¾© Iprops <code>src/components/TodoList/Input/index.tsx</code></h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  <span class="token comment">//ç‚ºä»€éº¼æ²’æœ‰è¿”å›å€¼ï¼Ÿ å› ç‚ºé€™è£¡æ˜¯ä¸€å€‹å‡½æ•¸çµ„ä»¶ï¼Œä¸æ˜¯ä¸€å€‹å‡½æ•¸ã€‚</span>
  <span class="token function-variable function">addTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œ addTodo æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå…¶ç±»å‹ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª ITodo ç±»å‹çš„å‚æ•° todoï¼Œå¹¶ä¸”æ²¡æœ‰è¿”å›å€¼ï¼ˆvoidï¼‰ã€‚åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ—¶ï¼Œä½ éœ€è¦ä»çˆ¶ç»„ä»¶ä¼ é€’ä¸€ä¸ªæ»¡è¶³è¿™ä¸ªå‡½æ•°ç­¾åçš„å‡½æ•°ç»™ addTodo å±æ€§ã€‚</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>æ€è€ƒ</p> <ul><li>onClick ä¸­æ‡‰è©²æ”¾ä»€éº¼ï¼Ÿ</li> <li>useRef çš„ä½¿ç”¨æ–¹å¼ï¼š ä½¿ç”¨äº† useRef<HTMLInputElement>(null)ï¼Œä½†æ‚¨åœ¨ä»£ç¢¼ä¸­æ²’æœ‰ä½¿ç”¨é€™å€‹ inputRefã€‚å¦‚æœæ‚¨å¸Œæœ›åœ¨æŒ‰éˆ•é»æ“Šæ™‚ç²å–è¼¸å…¥çš„å€¼ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ inputRef.current.valueã€‚</HTMLInputElement></li></ul></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef<span class="token punctuation">,</span> <span class="token constant">FC</span><span class="token punctuation">,</span> ReactElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ITodo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">addTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token literal-property property">TdInput</span><span class="token operator">:</span> <span class="token constant">FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = (</span><span class="token punctuation">{</span> addTodo <span class="token punctuation">}</span><span class="token plain-text">): ReactElement =&gt; </span><span class="token punctuation">{</span>
    <span class="token comment">//inputRef æ˜¯ä¸€å€‹å°è±¡ï¼Œè£¡é¢æœ‰ä¸€å€‹currentå±¬æ€§ï¼Œcurrentå±¬æ€§æŒ‡å‘inputå…ƒç´ ï¼Œç”¨æ–¼ç²å–inputå…ƒç´ çš„å€¼ã€‚</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> useRef<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(null);

  return (
     </span><span class="token punctuation">{</span><span class="token comment">/* è¿™é‡Œï¼ŒinputRefæ˜¯ä¸€ä¸ªuseRefå…·æœ‰currentå±æ€§çš„å¯¹è±¡ã€‚è¯¥currentå±æ€§æœ€åˆè®¾ç½®ä¸ºï¼Œä½†åœ¨å®‰è£…ç»„ä»¶æ—¶nullå°†æ›´æ–°ä¸ºæŒ‡å‘DOM å…ƒç´ ã€‚inputä¹‹åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨inputRef.currentæ¥å¼•ç”¨å®é™…çš„inputDOM å…ƒç´ ã€‚ */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>please input to do list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>   <span class="token operator">??</span><span class="token operator">??</span>  <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  );
};

export default TdInput;

</span></code></pre></div><blockquote><p>æ¥ä¸‹ä¾†ï¼Œæ‡‰è©²æ˜¯å° input å–å€¼ï¼Œ é‚£éº¼å°±éœ€è¦ä¸€å€‹ <code>handleAddTodoItem</code>çš„æ–¹æ³•, ä¸¦ä¸”åœ¨ <code>onClick</code> ä¸­èª¿ç”¨å®ƒã€‚</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// IProps interface representing the properties (props) expected by the component.</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  <span class="token comment">// addTodo is a function that takes a todo (of type ITodo) and returns void.</span>
  <span class="token function-variable function">addTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token comment">// todoList is an array of ITodo objects, representing the list of to-do items.</span>
  <span class="token literal-property property">todoList</span><span class="token operator">:</span> ITodo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">const</span> handleAddTodoItem <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//inputRef.currentç”¨äºè·å–è¾“å…¥å…ƒç´ ï¼ˆç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ï¼‰çš„å½“å‰å€¼ã€‚è¿™å…è®¸æ‚¨ç›´æ¥è®¿é—®è¾“å…¥å­—æ®µçš„å€¼ï¼Œè€Œæ— éœ€ä½¿ç”¨ React çŠ¶æ€ã€‚å½“æ‚¨éœ€è¦åœ¨é€šå¸¸çš„ React çŠ¶æ€å’Œäº‹ä»¶å¤„ç†æœºåˆ¶ä¹‹å¤–å¼ºåˆ¶è®¿é—®è¾“å…¥å­—æ®µçš„å½“å‰å€¼æ—¶ï¼Œè¿™ç§æ¨¡å¼å¾ˆå¸¸è§ã€‚</span>
  <span class="token keyword">const</span> <span class="token literal-property property">val</span><span class="token operator">:</span> string <span class="token operator">=</span> inputRef<span class="token punctuation">.</span>current<span class="token operator">!</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Check if the trimmed value is not empty</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Check if a todo with the same content already exists in the todoList</span>
    <span class="token keyword">const</span> isExist <span class="token operator">=</span> todoList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>content <span class="token operator">===</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// If a todo with the same content exists, show an alert and return from the function</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isExist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;To-do list item already exists&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

      <span class="token comment">//åŸ·è¡Œçˆ¶é¡çš„addTodoæ–¹æ³•ï¼Œ æŠŠå­é¡çš„val å‚³çµ¦çˆ¶é¡ã€‚</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Generate a unique id (using timestamp)</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> val<span class="token punctuation">,</span>
      <span class="token literal-property property">completed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Clear the input field by setting its value to an empty string</span>
    inputRef<span class="token punctuation">.</span>current<span class="token operator">!</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token comment">/* è¿™é‡Œï¼ŒinputRefæ˜¯ä¸€ä¸ªuseRefå…·æœ‰currentå±æ€§çš„å¯¹è±¡ã€‚è¯¥currentå±æ€§æœ€åˆè®¾ç½®ä¸ºï¼Œä½†åœ¨å®‰è£…ç»„ä»¶æ—¶nullå°†æ›´æ–°ä¸ºæŒ‡å‘DOM å…ƒç´ ã€‚inputä¹‹åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨inputRef.currentæ¥å¼•ç”¨å®é™…çš„inputDOM å…ƒç´ ã€‚ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>please input to do list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleAddTodoItem<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre></div><h2 id="todolist-çˆ¶çµ„ä»¶"><a href="#todolist-çˆ¶çµ„ä»¶" class="header-anchor">#</a> TodoList çˆ¶çµ„ä»¶</h2> <ol><li>State Management:</li></ol> <ul><li>Manages the state of the todo list using the <code>useState</code> hook. The state is initialized as an empty array.</li> <li>Logs the current state of todoList using the <code>useEffect</code> hook whenever <code>todoList</code> changes.</li></ul> <ol start="2"><li>addTodo Function:</li></ol> <ul><li>Defines an addTodo function using <code>useCallback</code>. This function takes a todo item as a parameter and updates the todoList state by appending the new todo.</li> <li>The <code>useCallback</code> hook ensures that the addTodo function maintains a stable reference across renders, optimizing performance by preventing unnecessary re-renders.</li></ul> <ol start="3"><li>Rendering Child Components:</li></ol> <ul><li>Renders two child components, <code>TdInput</code> and <code>TdList</code>, within a <code>div</code> with the class &quot;todo-list.&quot;</li> <li>Passes the <code>addTodo</code> function and the current <code>todoList</code> state as props to <code>TdInput</code>.</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code>
<span class="token comment">// å®šç¾©ä¸€å€‹ç‹€æ…‹ï¼Œç”¨ useStateï¼Œç‚ºäº†è®“å­çµ„ä»¶èƒ½å¤ ç²å–åˆ°çˆ¶çµ„ä»¶çš„ç‹€æ…‹ï¼Œæ‰€ä»¥è¦ç”¨ useState</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>todoList<span class="token punctuation">,</span> setTodoList<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>ITodo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ç•¶ useEffect è¢«è§¸ç™¼æ™‚ï¼Œå®ƒå…§éƒ¨çš„å›èª¿å‡½æ•¸å°±æœƒåŸ·è¡Œã€‚å³ç•¶æ–°çš„ä»£è¾¦äº‹é …è¢«æ·»åŠ åˆ° todoList æ™‚ï¼ŒuseEffect çš„å›èª¿å‡½æ•¸å°±æœƒåŸ·è¡Œã€‚</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>todoList<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//addTodo å‡½æ•¸çš„ç›®çš„ï¼š addTodo å‡½æ•¸çš„ç›®çš„æ˜¯å°‡ä»£è¡¨å¾…è¾¦äº‹é …çš„ç‰©ä»¶æ·»åŠ åˆ° todoList ç‹€æ…‹ä¸­ã€‚é€™æ˜¯é€éä½¿ç”¨ setTodoList æ›´æ–° todoList ç‹€æ…‹å¯¦ç¾çš„ã€‚</span>
<span class="token keyword">const</span> addTodo <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// åœ¨å¯¦éš›æ‡‰ç”¨ä¸­ï¼Œä½ æ‡‰è©²ä½¿ç”¨ setTodoList æ›´æ–° todoList ç‹€æ…‹</span>
  <span class="token comment">// setTodoList((prevTodoList) =&gt; [...prevTodoList, todo]);</span>
  <span class="token function">setTodoList</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todoList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>todoList<span class="token punctuation">,</span> todo<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//å°‡ addTodo ä½œç‚º prop å‚³éçµ¦ TdInput å­çµ„ä»¶ï¼š åœ¨ return èªå¥ä¸­ï¼ŒaddTodo å‡½æ•¸ä½œç‚º prop å‚³éçµ¦äº† TdInput å­çµ„ä»¶ï¼Œé€™æ¨£å­çµ„ä»¶å°±èƒ½å¤ ä½¿ç”¨çˆ¶çµ„ä»¶ä¸­çš„é€™å€‹å‡½æ•¸ã€‚</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token comment">/* å°‡ addTodo å‡½æ•¸ä½œç‚º prop å‚³éçµ¦å­çµ„ä»¶ TdInput */</span><span class="token punctuation">}</span><span class="token plain-text">

    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdInput</span></span> <span class="token attr-name">addTodo</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addTodo<span class="token punctuation">}</span></span> <span class="token attr-name">todoList</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>todoList<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdList</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>useCallback</code> æ˜¯ React ä¸­çš„ä¸€å€‹ Hookï¼Œç”¨æ–¼å„ªåŒ–å‡½æ•¸å¼•ç”¨ï¼Œç‰¹åˆ¥æ˜¯åœ¨å­çµ„ä»¶çš„ props ä¸­ä½¿ç”¨ã€‚åœ¨é€™å€‹ç‰¹å®šçš„ä»£ç¢¼ä¸­ï¼Œ<code>useCallback</code> ç”¨æ–¼å„ªåŒ– <code>addTodo</code> å‡½æ•¸çš„å¼•ç”¨ï¼Œä»¥é˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p></blockquote> <ol><li><code>useCallback</code> ç”¨é€”ï¼š</li></ol> <p>åœ¨ React ä¸­ï¼Œæ¯æ¬¡çˆ¶çµ„ä»¶æ¸²æŸ“æ™‚ï¼Œå…§è¯å‡½æ•¸éƒ½æœƒè¢«é‡æ–°å‰µå»ºã€‚ç‚ºäº†é¿å…ä¸å¿…è¦çš„å‡½æ•¸é‡æ–°å‰µå»ºï¼Œç‰¹åˆ¥æ˜¯åœ¨å­çµ„ä»¶çš„ props ä¸­ä½¿ç”¨å‡½æ•¸æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ <code>useCallback</code> é€²è¡Œå„ªåŒ–ã€‚åœ¨é€™è£¡ï¼Œ<code>useCallback</code> ç”¨æ–¼å„ªåŒ– <code>addTodo</code> å‡½æ•¸çš„å¼•ç”¨ï¼Œä»¥é˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p> <ol start="2"><li><code>useCallback</code> çš„ä½œç”¨ï¼š</li></ol> <ul><li><p><strong>é¿å…ä¸å¿…è¦çš„å‡½æ•¸é‡æ–°å‰µå»ºï¼š</strong> ä½¿ç”¨ <code>useCallback</code> å¯ä»¥ç·©å­˜å‡½æ•¸çš„å¯¦ä¾‹ï¼Œåªæœ‰ç•¶ <code>useCallback</code> çš„ä¾è³´é …ç™¼ç”Ÿè®ŠåŒ–æ™‚æ‰æœƒå‰µå»ºä¸€å€‹æ–°çš„å‡½æ•¸å¯¦ä¾‹ã€‚é€™æ¸›å°‘äº†å­çµ„ä»¶çš„ä¸å¿…è¦é‡æ–°æ¸²æŸ“ï¼Œæé«˜äº†æ‡‰ç”¨ç¨‹åºæ€§èƒ½ã€‚</p></li> <li><p><strong>å­çµ„ä»¶æ€§èƒ½å„ªåŒ–ï¼š</strong> å¦‚æœå­çµ„ä»¶ä½¿ç”¨äº† <code>React.memo</code> é€²è¡Œæ€§èƒ½å„ªåŒ–ï¼ˆé˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼‰ï¼Œ<code>useCallback</code> çš„ä½¿ç”¨èƒ½å¤ ç¢ºä¿å³ä½¿çˆ¶çµ„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå­çµ„ä»¶ä¸æœƒå›  <code>addTodo</code> å‡½æ•¸çš„å¯¦éš›é‚è¼¯æœªæ”¹è®Šè€Œé‡æ–°æ¸²æŸ“ã€‚</p></li></ul> <blockquote><p><code>useEffect</code>: ç°¡å–®ä¾†èªªï¼Œç•¶ä½¿ç”¨è€…åœ¨ <code>TdInput</code> çµ„ä»¶ä¸­é»æ“Š &quot;add&quot; æŒ‰éˆ•æ™‚ï¼Œ<code>handleAddTodoItem</code> å‡½æ•¸è¢«è§¸ç™¼ï¼Œä¸¦ä¸”å®ƒå…§éƒ¨èª¿ç”¨äº†ç”±çˆ¶çµ„ä»¶ <code>TodoList</code> æä¾›çš„ <code>addTodo</code> å‡½æ•¸ã€‚é€™æ¨£åšçš„ç›®çš„æ˜¯å°‡æ–°çš„å¾…è¾¦äº‹é …æ·»åŠ åˆ°çˆ¶çµ„ä»¶çš„ <code>todoList</code> ç‹€æ…‹ä¸­ï¼Œå¾è€Œè§¸ç™¼ <code>useEffect</code> ä¸¦åœ¨æ§åˆ¶å°ä¸­è¼¸å‡ºæ–°çš„ <code>todoList</code>ã€‚</p></blockquote> <h3 id="ä½¿ç”¨-usereducer-æ›¿ä»£-usestate"><a href="#ä½¿ç”¨-usereducer-æ›¿ä»£-usestate" class="header-anchor">#</a> ä½¿ç”¨ useReducer æ›¿ä»£ useState</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//path: todo-list-app/src/components/TodoList/reducer.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">,</span> IAction<span class="token punctuation">,</span> IState<span class="token punctuation">,</span> ITodo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./types&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//todoReducer æ˜¯ä¸€å€‹ç´”å‡½æ•¸ï¼Œç”¨æ–¼è™•ç†æœ‰é—œå¾…è¾¦äº‹é …æ‡‰ç”¨ç¨‹åºç‹€æ…‹çš„è®ŠåŒ–ã€‚</span>
<span class="token keyword">function</span> <span class="token function">todoReducer</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">state</span><span class="token operator">:</span> IState<span class="token punctuation">,</span> <span class="token literal-property property">action</span><span class="token operator">:</span> IAction</span><span class="token punctuation">)</span><span class="token operator">:</span> IState <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span> <span class="token operator">=</span> action<span class="token punctuation">;</span>
  <span class="token comment">//è¿”å›ä¸€å€‹IState,todoList: []çš„é›†åˆ</span>

  <span class="token comment">//actionåŒ…å«å…©å€‹å€¼ï¼šä¸€å€‹æ˜¯payloadï¼Œ å¦ä¸€å€‹æ˜¯typeã€‚ payload å…¶å¯¦å°±æ˜¯æˆ‘å€‘è¦å‚³éçš„åƒæ•¸ï¼Œä¹Ÿå°±æ˜¯todoçš„å…§å®¹ï¼Œå°±æ˜¯const addTodo = useCallback((todo: ITodo) =&gt; è£¡é¢çš„todoï¼Œå¦ä¸€å€‹æ˜¯typeå‰‡æ˜¯æˆ‘å€‘è¦åšçš„äº‹æƒ…</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">ADD_TODO</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">todoList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">,</span> payload <span class="token keyword">as</span> ITodo<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> todoReducer <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//path: src/components/TodoList/index.tsx</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token constant">FC</span><span class="token punctuation">,</span>
  ReactElement<span class="token punctuation">,</span>
  useCallback<span class="token punctuation">,</span>
  useEffect<span class="token punctuation">,</span>
  useReducer<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TdInput <span class="token keyword">from</span> <span class="token string">&quot;./Input&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TdList <span class="token keyword">from</span> <span class="token string">&quot;./List&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ITodo<span class="token punctuation">,</span> IState<span class="token punctuation">,</span> <span class="token constant">ACTION_TYPE</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> todoReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./reducer&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">initialState</span><span class="token operator">:</span> IState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">todoList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">TodoList</span><span class="token operator">:</span> <span class="token constant">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">ReactElement</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>todoReducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//ç•¶ useEffect è¢«è§¸ç™¼æ™‚ï¼Œå®ƒå…§éƒ¨çš„å›èª¿å‡½æ•¸å°±æœƒåŸ·è¡Œã€‚ï¼Œå³ç•¶æ–°çš„ä»£è¾¦äº‹é …è¢«æ·»åŠ åˆ° todoList æ™‚ï¼ŒuseEffect çš„å›èª¿å‡½æ•¸å°±æœƒåŸ·è¡Œã€‚</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//å¯ç†è§£ç‚ºreduxè£¡çš„action creatorï¼Œ ç”¨ä¾†å‰µå»ºactionï¼Œæ˜¯ç´”ç²¹çš„å‡½æ•¸ï¼Œ å®ƒå€‘è¿”å›ä¸€å€‹actionå°è±¡ï¼Œè€Œé€™å€‹å°è±¡ç„¶å¾Œè¢«å‚³éçµ¦ dispatch()æ–¹æ³•ã€‚</span>
  <span class="token keyword">const</span> addTodo <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// setTodoList((todoList) =&gt; [...todoList, todo]);</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">ADD_TODO</span><span class="token punctuation">,</span>
      <span class="token literal-property property">payload</span><span class="token operator">:</span> todo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdInput</span></span> <span class="token attr-name">addTodo</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addTodo<span class="token punctuation">}</span></span> <span class="token attr-name">todoList</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TdList</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span>
</code></pre></div><h3 id="åˆ†æ-1-è¦ªã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã‹ã‚™å­ã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã«æä¾›ã™ã‚‹-addtodo-é–¢æ•°ã‚’ç†è§£ã™ã‚‹ã«ã¯"><a href="#åˆ†æ-1-è¦ªã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã‹ã‚™å­ã‚³ãƒ³ãƒ›ã‚šãƒ¼ãƒãƒ³ãƒˆã«æä¾›ã™ã‚‹-addtodo-é–¢æ•°ã‚’ç†è§£ã™ã‚‹ã«ã¯" class="header-anchor">#</a> åˆ†æ 1ï¼šè¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æä¾›ã™ã‚‹ addTodo é–¢æ•°ã‚’ç†è§£ã™ã‚‹ã«ã¯ï¼Ÿ</h3> <p>åœ¨æä¾›çµ¦ <code>TdInput</code> å­çµ„ä»¶çš„ <code>addTodo</code> å‡½æ•¸å’Œ <code>handleAddTodoItem</code> å‡½æ•¸ä¹‹é–“æœ‰ä¸€å€‹ç°¡å–®çš„å°æ‡‰é—œä¿‚ï¼š</p> <ol><li><strong><code>addTodo</code> å‡½æ•¸:</strong> <ul><li>å®šç¾©åœ¨çˆ¶çµ„ä»¶ <code>TodoList</code> ä¸­ã€‚</li> <li>ä½¿ç”¨ <code>useCallback</code> å„ªåŒ–å‡½æ•¸å¼•ç”¨ã€‚</li> <li>è² è²¬å°‡æ–°çš„å¾…è¾¦äº‹é …ï¼ˆ<code>todo</code> ç‰©ä»¶ï¼‰æ·»åŠ åˆ° <code>todoList</code> ç‹€æ…‹ä¸­ã€‚</li></ul></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> addTodo <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span> ITodo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">ADD_TODO</span><span class="token punctuation">,</span>
    <span class="token literal-property property">payload</span><span class="token operator">:</span> todo<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><strong><code>handleAddTodoItem</code> å‡½æ•¸:</strong> <ul><li>å®šç¾©åœ¨å­çµ„ä»¶ <code>TdInput</code> ä¸­ã€‚</li> <li>è² è²¬è™•ç†ä½¿ç”¨è€…è¼¸å…¥çš„å¾…è¾¦äº‹é …ï¼Œä¸¦é€šéå‘¼å«çˆ¶çµ„ä»¶æä¾›çš„ <code>addTodo</code> å‡½æ•¸å°‡æ–°çš„å¾…è¾¦äº‹é …æ·»åŠ åˆ° <code>todoList</code> ä¸­ã€‚</li></ul></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> handleAddTodoItem <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...ï¼ˆçœç•¥å…¶ä»–è™•ç†é‚è¼¯ï¼‰</span>
  <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> val<span class="token punctuation">,</span>
    <span class="token literal-property property">completed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...ï¼ˆçœç•¥å…¶ä»–è™•ç†é‚è¼¯ï¼‰</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/docs/guide/images/react/todolist.png" alt="todolist"></p> <ol><li><p><strong><code>TodoList</code> çµ„ä»¶ï¼š</strong></p> <ul><li><code>TodoList</code> çµ„ä»¶æ˜¯ä¸€å€‹ React å‡½æ•¸çµ„ä»¶ï¼Œè² è²¬æ¸²æŸ“å¾…è¾¦äº‹é …æ‡‰ç”¨çš„ä¸»è¦ UIã€‚</li> <li>ä½¿ç”¨ <code>useReducer</code> Hook ç®¡ç†ç‹€æ…‹ï¼Œä¸¦å°‡ç‹€æ…‹å’Œæ´¾ç™¼å‡½æ•¸ <code>dispatch</code> ä½œç‚º <code>todoReducer</code> çš„åƒæ•¸ã€‚</li></ul></li> <li><p><strong><code>TdInput</code> çµ„ä»¶ï¼š</strong></p> <ul><li><code>TdInput</code> çµ„ä»¶æ˜¯ <code>TodoList</code> çµ„ä»¶çš„å­çµ„ä»¶ï¼Œè² è²¬è™•ç†å¾…è¾¦äº‹é …çš„è¼¸å…¥éƒ¨åˆ†ã€‚</li> <li>æ¥æ”¶ <code>addTodo</code> å‡½æ•¸ä½œç‚º propï¼Œç”¨ä¾†æ·»åŠ æ–°çš„å¾…è¾¦äº‹é …ã€‚</li> <li>ä½¿ç”¨ <code>inputRef</code> ä¾†ç²å–ç”¨æˆ¶è¼¸å…¥çš„å€¼ï¼Œä¸¦åœ¨é»æ“Š &quot;add&quot; æŒ‰éˆ•æ™‚èª¿ç”¨ <code>handleAddTodoItem</code> å‡½æ•¸ã€‚</li></ul></li> <li><p><strong><code>todoReducer</code> å‡½æ•¸ï¼š</strong></p> <ul><li><code>todoReducer</code> æ˜¯ä¸€å€‹ç´”å‡½æ•¸ï¼Œç”¨æ–¼è™•ç†èˆ‡å¾…è¾¦äº‹é …æ‡‰ç”¨çš„ç‹€æ…‹ç›¸é—œçš„æ“ä½œã€‚</li> <li>æ¥æ”¶ç•¶å‰æ‡‰ç”¨ç¨‹åºçš„ç‹€æ…‹ (<code>state</code>) å’Œä¸€å€‹æè¿°æ“ä½œçš„å°è±¡ (<code>action</code>)ã€‚</li> <li>åœ¨é€™å€‹ç‰¹å®šçš„æ‡‰ç”¨ä¸­ï¼Œåªè™•ç†ä¸€ç¨®æ“ä½œé¡å‹ <code>ACTION_TYPE.ADD_TODO</code>ï¼Œç”¨ä¾†å°‡æ–°çš„å¾…è¾¦äº‹é …æ·»åŠ åˆ° <code>todoList</code> ä¸­ã€‚</li></ul></li></ol> <p>é€™ä¸‰å€‹çµ„ä»¶/å‡½æ•¸ä¹‹é–“çš„é—œä¿‚æ˜¯é€šé React çš„å±¤ç´šçµ„ä»¶çµæ§‹å’Œ props å‚³éå»ºç«‹çš„ã€‚ä¸»è¦çš„å·¥ä½œæµç¨‹æ˜¯ï¼š</p> <ul><li>åœ¨ <code>TodoList</code> çµ„ä»¶ä¸­ä½¿ç”¨ <code>useReducer</code> ä¾†åˆå§‹åŒ–æ‡‰ç”¨çš„ç‹€æ…‹ä¸¦ç²å– <code>dispatch</code> å‡½æ•¸ã€‚</li> <li><code>TodoList</code> å°‡ç‹€æ…‹å’Œ <code>addTodo</code> å‡½æ•¸ä½œç‚º prop å‚³éçµ¦ <code>TdInput</code> å­çµ„ä»¶ã€‚</li> <li>åœ¨ <code>TdInput</code> ä¸­ï¼Œä½¿ç”¨ <code>inputRef</code> ç²å–ç”¨æˆ¶è¼¸å…¥çš„å€¼ï¼Œä¸¦åœ¨é»æ“Š &quot;add&quot; æŒ‰éˆ•æ™‚èª¿ç”¨ <code>addTodo</code> å‡½æ•¸ã€‚</li> <li><code>addTodo</code> å‡½æ•¸å…§éƒ¨èª¿ç”¨ <code>dispatch</code> ä¸¦å‚³éä¸€å€‹æè¿°æ·»åŠ å¾…è¾¦äº‹é …æ“ä½œçš„ action å°è±¡ã€‚</li> <li><code>dispatch</code> èª¿ç”¨ <code>todoReducer</code> å‡½æ•¸ä¾†ä¿®æ”¹æ‡‰ç”¨çš„ç‹€æ…‹ã€‚</li> <li><code>useEffect</code> Hook ç›£è½ <code>state.todoList</code> çš„è®ŠåŒ–ï¼Œä¸¦åœ¨è®ŠåŒ–æ™‚è¼¸å‡ºæ—¥èªŒã€‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code>
<span class="token comment">//path: todo-list-app/src/components/TodoList/reducer.ts</span>
<span class="token comment">/**
 * Redux ä¸­ reducer å‡½æ•¸å…§çš„ switch caseï¼Œç”¨æ–¼è™•ç†ä¸åŒçš„ action typesã€‚

 * åœ¨ todoReducer ä¸­ï¼Œé€™äº› case å¯¦éš›ä¸Šæ˜¯ action types çš„ä¸åŒåˆ†æ”¯ï¼Œç”¨æ–¼æ±ºå®šæ ¹æ“šä¸åŒçš„ action type å¦‚ä½•æ›´æ–°æ‡‰ç”¨çš„ç‹€æ…‹ã€‚

 * Reducer æ˜¯ä¸€å€‹ç´”å‡½æ•¸ï¼Œå®ƒæ¥æ”¶å…ˆå‰çš„ç‹€æ…‹å’Œä¸€å€‹ action ç‰©ä»¶ï¼Œç„¶å¾Œæ ¹æ“š action çš„é¡å‹åŸ·è¡Œç›¸æ‡‰çš„æ“ä½œï¼Œè¿”å›æ–°çš„ç‹€æ…‹ã€‚
 */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">,</span> IAction<span class="token punctuation">,</span> IState<span class="token punctuation">,</span> ITodo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">todoReducer</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">state</span><span class="token operator">:</span> IState<span class="token punctuation">,</span> <span class="token literal-property property">action</span><span class="token operator">:</span> IAction</span><span class="token punctuation">)</span><span class="token operator">:</span> IState <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span> <span class="token operator">=</span> action<span class="token punctuation">;</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">ADD_TODO</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">todoList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">,</span> payload <span class="token keyword">as</span> ITodo<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">/**
       * é€™è£¡çš„ç›®çš„æ˜¯å¾ todoList ä¸­ç§»é™¤æŒ‡å®š id çš„å¾…è¾¦äº‹é …ã€‚å…·é«”æ­¥é©Ÿå¦‚ä¸‹ï¼š

      1. ä½¿ç”¨ filter æ–¹æ³•éæ­· state.todoList ä¸­çš„æ¯å€‹å¾…è¾¦äº‹é … (todo)ã€‚
      2. å°æ–¼æ¯å€‹å¾…è¾¦äº‹é …ï¼Œæª¢æŸ¥å…¶ id æ˜¯å¦ç­‰æ–¼ payloadï¼ˆpayload æ˜¯å¾ action ä¸­å‚³å…¥çš„å¾…è¾¦äº‹é …çš„ idï¼‰ã€‚
      3. å¦‚æœå¾…è¾¦äº‹é …çš„ id èˆ‡ payload ä¸ç›¸ç­‰ï¼Œå‰‡ä¿ç•™è©²å¾…è¾¦äº‹é …ï¼›å¦‚æœç›¸ç­‰ï¼Œå‰‡éæ¿¾æ‰è©²å¾…è¾¦äº‹é …ã€‚
      4. å°‡éæ¿¾å¾Œçš„å¾…è¾¦äº‹é …åˆ—è¡¨æ›´æ–°åˆ°æ–°çš„ state ä¸­ã€‚
       */</span>

    <span class="token keyword">case</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">REMOVE_TODO</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">todoList</span><span class="token operator">:</span> state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">!==</span> payload<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * é€™è£¡çš„ç›®çš„æ˜¯åˆ‡æ›æŒ‡å®š `id` çš„å¾…è¾¦äº‹é …çš„å®Œæˆç‹€æ…‹ï¼ˆ`completed`ï¼‰ã€‚å…·é«”æ­¥é©Ÿå¦‚ä¸‹ï¼š

      1. ä½¿ç”¨ `map` æ–¹æ³•éæ­· `state.todoList` ä¸­çš„æ¯å€‹å¾…è¾¦äº‹é … (`todo`)ã€‚
      2. å°æ–¼æ¯å€‹å¾…è¾¦äº‹é …ï¼Œæª¢æŸ¥å…¶ `id` æ˜¯å¦ç­‰æ–¼ `payload`ï¼ˆ`payload` æ˜¯å¾ `action` ä¸­å‚³å…¥çš„å¾…è¾¦äº‹é …çš„ `id`ï¼‰ã€‚
      3. å¦‚æœå¾…è¾¦äº‹é …çš„ `id` èˆ‡ `payload` ç›¸ç­‰ï¼Œå‰‡å°‡è©²å¾…è¾¦äº‹é …çš„ `completed` ç‹€æ…‹å–åï¼ˆåˆ‡æ›å®Œæˆç‹€æ…‹ï¼‰ã€‚
      4. å°‡ä¿®æ”¹å¾Œçš„å¾…è¾¦äº‹é …åˆ—è¡¨æ›´æ–°åˆ°æ–°çš„ `state` ä¸­ã€‚
     */</span>

    <span class="token keyword">case</span> <span class="token constant">ACTION_TYPE</span><span class="token punctuation">.</span><span class="token constant">TOGGLE_TODO</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">todoList</span><span class="token operator">:</span> state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> todo<span class="token punctuation">.</span>id <span class="token operator">===</span> payload
            <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>todo<span class="token punctuation">,</span> <span class="token literal-property property">completed</span><span class="token operator">:</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>completed <span class="token punctuation">}</span>
            <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>todo <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> todoReducer <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="åˆ†æ-3-ä»€éº¼æ˜¯-action-creator-è¿”å›ç´”å‡½æ•¸çš„æ„æ€æ˜¯"><a href="#åˆ†æ-3-ä»€éº¼æ˜¯-action-creator-è¿”å›ç´”å‡½æ•¸çš„æ„æ€æ˜¯" class="header-anchor">#</a> åˆ†æ 3 ä»€éº¼æ˜¯ action creatorï¼Ÿ è¿”å›ç´”å‡½æ•¸çš„æ„æ€æ˜¯ï¼Ÿ</h3> <p>åœ¨ Redux ä¸­ï¼Œä¸€å€‹ action creator æ˜¯ä¸€å€‹è¿”å› action ç‰©ä»¶çš„å‡½æ•¸ã€‚é€™å€‹ action ç‰©ä»¶åŒ…å«äº†æè¿° action é¡å‹ï¼ˆtypeï¼‰å’Œç›¸é—œæ•¸æ“šï¼ˆpayloadï¼‰çš„ä¿¡æ¯ã€‚ä¸€å€‹å…¸å‹çš„ action creator ç´”å‡½æ•¸å¦‚ä¸‹ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// action creator</span>
<span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;ADD_TODO&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      text<span class="token punctuation">,</span>
      <span class="token literal-property property">completed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨ action creator ä¾†å‰µå»ºä¸€å€‹ action ç‰©ä»¶</span>
<span class="token keyword">const</span> newTodoAction <span class="token operator">=</span> <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">&quot;Buy groceries&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>addTodo</code> æ˜¯ä¸€å€‹ action creator å‡½æ•¸ã€‚ç•¶ä½ èª¿ç”¨å®ƒæ™‚ï¼Œå®ƒè¿”å›ä¸€å€‹åŒ…å« action ä¿¡æ¯çš„ç‰©ä»¶ã€‚é€™å€‹ action ç‰©ä»¶è‡³å°‘åŒ…å« <code>type</code> å±¬æ€§ï¼Œç”¨ä¾†æŒ‡å®š action çš„é¡å‹ï¼Œä»¥åŠ <code>payload</code> å±¬æ€§ï¼Œç”¨ä¾†åŒ…å«ç›¸é—œçš„æ•¸æ“šã€‚</p> <p>Redux çš„ reducer å‡½æ•¸å‰‡æ ¹æ“šé€™äº› action ç‰©ä»¶çš„ <code>type</code> å±¬æ€§ï¼Œä¾†æ±ºå®šå¦‚ä½•æ›´æ–°æ‡‰ç”¨çš„ç‹€æ…‹ã€‚åœ¨ reducer å…§éƒ¨ï¼Œé€šå¸¸ä½¿ç”¨ä¸€å€‹ switch case ä¾†è™•ç†ä¸åŒçš„ action typesã€‚é€™å°±æ˜¯ç‚ºä»€éº¼åœ¨ Redux ä¸­çš„ action creators æ˜¯ç´”å‡½æ•¸çš„åŸå› ï¼Œå› ç‚ºå®ƒå€‘è¿”å›ä¸€å€‹æè¿° action çš„ç´”å‡½æ•¸ï¼Œè€Œä¸åŸ·è¡Œå°æ‡‰çš„éç´”æ“ä½œã€‚</p> <p>ç°¡è€Œè¨€ä¹‹ï¼ŒRedux ä¸­çš„ action creators æ˜¯ç´”å‡½æ•¸ï¼Œå› ç‚ºå®ƒå€‘åªè¿”å›æè¿° action çš„ç‰©ä»¶ï¼Œè€Œä¸åŸ·è¡Œå…¶ä»–å¯èƒ½å¼•èµ·å‰¯ä½œç”¨çš„æ“ä½œã€‚é€™æœ‰åŠ©æ–¼ä¿æŒ Redux æ‡‰ç”¨çš„å¯é æ¸¬æ€§å’Œå¯æ¸¬è©¦æ€§ã€‚</p> <h3 id="åˆ†æ-4-iprops"><a href="#åˆ†æ-4-iprops" class="header-anchor">#</a> åˆ†æ 4ï¼š Iprops</h3> <p>//IProps å…·æœ‰å±æ€§ todoListã€toggleTodo å’Œ çš„æ¥å£ removeTodo ç”¨äº TdItem(item) å’Œ TdList(list) ç»„ä»¶ï¼Œä»¥å®šä¹‰è¿™äº›ç»„ä»¶åº”æ¥æ”¶çš„é¢„æœŸ propsã€‚</p> <h3 id="iprops-interface-for-tdinput-component"><a href="#iprops-interface-for-tdinput-component" class="header-anchor">#</a> <code>IProps</code> Interface for <code>TdInput</code> Component:</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">addTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span>todo<span class="token operator">:</span> ITodo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  todoList<span class="token operator">:</span> ITodo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p><code>addTodo</code>: This property is a function that takes an <code>ITodo</code> parameter and returns <code>void</code>. It suggests that the <code>TdInput</code> component expects a function to be passed down that will handle the addition of a new todo item to the list.</p></li> <li><p><code>todoList</code>: This property is an array of <code>ITodo</code> items. It represents the list of todos that the <code>TdInput</code> component needs access to, possibly for checking if a todo already exists before adding a new one.</p></li></ul> <h3 id="iprops-interface-for-tdlist-component"><a href="#iprops-interface-for-tdlist-component" class="header-anchor">#</a> <code>IProps</code> Interface for <code>TdList</code> Component:</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  todoList<span class="token operator">:</span> ITodo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function-variable function">toggleTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function-variable function">removeTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p><code>todoList</code>: This property is an array of <code>ITodo</code> items. It represents the list of todos that the <code>TdList</code> component will render.</p></li> <li><p><code>toggleTodo</code>: This property is a function that takes a <code>number</code> (presumably the id of a todo item) and returns <code>void</code>. It suggests that the <code>TdList</code> component expects a function to be passed down that will handle toggling the completion status of a todo item.</p></li> <li><p><code>removeTodo</code>: This property is a function that takes a <code>number</code> (presumably the id of a todo item) and returns <code>void</code>. It suggests that the <code>TdList</code> component expects a function to be passed down that will handle removing a todo item from the list.</p></li></ul> <h3 id="common-aspects"><a href="#common-aspects" class="header-anchor">#</a> Common Aspects:</h3> <ul><li>Both interfaces include a <code>todoList</code> property, indicating that both components need access to the list of todos.</li> <li>The <code>ITodo</code> type is referenced in both interfaces, suggesting that it defines the structure of a todo item.</li></ul> <p>Understanding these interfaces helps clarify what kind of props each component expects and how they interact with the rest of the application.</p> <h3 id="iprops-in-the-todolist-input-index-tsx"><a href="#iprops-in-the-todolist-input-index-tsx" class="header-anchor">#</a> <code>IProps</code> in the <code>TodoList&gt;input&gt;index.tsx</code></h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">//path: src/components/TodoList/Input/index.tsx</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef<span class="token punctuation">,</span> <span class="token constant">FC</span><span class="token punctuation">,</span> ReactElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ITodo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../types&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//addTodoæ¥å£ä¸­å±æ€§çš„å­˜åœ¨IPropsè¡¨æ˜TdInputç»„ä»¶æœŸæœ›å°†å‡½æ•°ä½œä¸º prop ä¼ é€’ï¼Œå¹¶ä¸”è¯¥å‡½æ•°åº”è¯¥å…·æœ‰ç­¾å(todo: ITodo) =&gt; voidã€‚è¿™è¡¨æ˜è¯¥å‡½æ•°çš„ç›®çš„å¯èƒ½æ˜¯å¤„ç†æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹ã€‚</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  <span class="token comment">//addTodoï¼šå®ƒæ˜¯ä¸€ä¸ªä»¥ITodoå¯¹è±¡ä½œä¸ºå‚æ•°å¹¶è¿”å›çš„å‡½æ•°voidã€‚è¯¥å‡½æ•°é¢„è®¡å¯ä»¥å¤„ç†æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹ã€‚</span>
  <span class="token function-variable function">addTodo</span><span class="token operator">:</span> <span class="token punctuation">(</span>todo<span class="token operator">:</span> ITodo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

  <span class="token comment">//todoListï¼šå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ITodoã€‚è¯¥æ•°ç»„è¡¨ç¤ºç»„ä»¶å°†ä¸ä¹‹äº¤äº’çš„å¾…åŠäº‹é¡¹åˆ—è¡¨TdInputï¼Œä¸“é—¨ç”¨äºæ£€æŸ¥åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨æ–°çš„å¾…åŠäº‹é¡¹ã€‚</span>
  todoList<span class="token operator">:</span> ITodo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * addTodoPropï¼š æ˜¯ä¸€ä¸ªå‘ä¸‹ä¼ é€’ç»™TdInputç»„ä»¶çš„å‡½æ•°ã€‚åœ¨å‡½æ•°å†…éƒ¨handleAddTodoItemï¼Œå½“å³å°†æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹æ—¶ï¼Œå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥addTodoå‡½æ•°è´Ÿè´£å°†æ–°çš„å¾…åŠäº‹é¡¹æ·»åŠ åˆ°æ•´ä¸ªå¾…åŠäº‹é¡¹åˆ—è¡¨ä¸­ã€‚

 * todoListPropï¼š æ˜¯å¾…åŠäº‹é¡¹çš„æ•°ç»„ã€‚å®ƒåœ¨handleAddTodoItemå‡½æ•°ä¸­ç”¨äºæ£€æŸ¥åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨å…·æœ‰ç›¸åŒå†…å®¹çš„æ–°å¾…åŠäº‹é¡¹ã€‚å¦‚æœæ˜¯ï¼Œåˆ™ä¼šæ˜¾ç¤ºè­¦æŠ¥ï¼Œå¹¶ä¸”ä¸ä¼šæ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹ã€‚
 */</span>

<span class="token keyword">const</span> TdInput<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> addTodo<span class="token punctuation">,</span> todoList <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> ReactElement <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> handleAddTodoItem <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> val<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> inputRef<span class="token punctuation">.</span>current<span class="token operator">!</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> isExist <span class="token operator">=</span> todoList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>content <span class="token operator">===</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>isExist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;to do list has existed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//åœ¨è¯¥å‡½æ•°ä¸­ï¼ŒaddTodoä½¿ç”¨æ–°çš„ todo å¯¹è±¡ä½œä¸ºå‚æ•°æ¥è°ƒç”¨è¯¥å‡½æ•°ã€‚addTodoè¿™ä¸ç•Œé¢ä¸­çš„å±æ€§è®¾ç½®çš„æœŸæœ›ä¸€è‡´IPropsã€‚</span>
      <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> val<span class="token punctuation">,</span>
        completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      inputRef<span class="token punctuation">.</span>current<span class="token operator">!</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>please input to do list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleAddTodoItem<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TdInput<span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/practice/" class="prev router-link-active">
        ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
      </a></span> <span class="next"><a href="/practice/shoppingcart.html">
        React and TypeScript Shopping Cart Application
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.204ed3d4.js" defer></script><script src="/assets/js/2.a44fb3b0.js" defer></script><script src="/assets/js/1.8d37d391.js" defer></script><script src="/assets/js/56.710acef5.js" defer></script>
  </body>
</html>
