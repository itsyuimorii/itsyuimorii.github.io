<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. What is getStaticProps &amp;&amp; getStaticPaths | ‚òª itsyuimorii.space</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.204ed3d4.js" as="script"><link rel="preload" href="/assets/js/2.a44fb3b0.js" as="script"><link rel="preload" href="/assets/js/1.8d37d391.js" as="script"><link rel="preload" href="/assets/js/32.f990ea1b.js" as="script"><link rel="prefetch" href="/assets/js/10.d8df69df.js"><link rel="prefetch" href="/assets/js/11.2a97faa3.js"><link rel="prefetch" href="/assets/js/12.5fd72f78.js"><link rel="prefetch" href="/assets/js/13.767d92f0.js"><link rel="prefetch" href="/assets/js/14.09112e04.js"><link rel="prefetch" href="/assets/js/15.2d87bde7.js"><link rel="prefetch" href="/assets/js/16.d6bec5e2.js"><link rel="prefetch" href="/assets/js/17.3dbcb51f.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.1b72b4a4.js"><link rel="prefetch" href="/assets/js/20.9741499c.js"><link rel="prefetch" href="/assets/js/21.7f8f7869.js"><link rel="prefetch" href="/assets/js/22.3f20ce36.js"><link rel="prefetch" href="/assets/js/23.7c0322e8.js"><link rel="prefetch" href="/assets/js/24.fa4b7294.js"><link rel="prefetch" href="/assets/js/25.4b75e33e.js"><link rel="prefetch" href="/assets/js/26.6ccb7807.js"><link rel="prefetch" href="/assets/js/27.6c078df5.js"><link rel="prefetch" href="/assets/js/28.520f43fd.js"><link rel="prefetch" href="/assets/js/29.844af673.js"><link rel="prefetch" href="/assets/js/3.f8c28e7e.js"><link rel="prefetch" href="/assets/js/30.b352e55d.js"><link rel="prefetch" href="/assets/js/31.c2296a43.js"><link rel="prefetch" href="/assets/js/33.e2f64269.js"><link rel="prefetch" href="/assets/js/34.b9fe4fba.js"><link rel="prefetch" href="/assets/js/35.6015d88a.js"><link rel="prefetch" href="/assets/js/36.2ee99065.js"><link rel="prefetch" href="/assets/js/37.9bd0a687.js"><link rel="prefetch" href="/assets/js/38.04db86c7.js"><link rel="prefetch" href="/assets/js/39.1fe91b86.js"><link rel="prefetch" href="/assets/js/4.9eb8282d.js"><link rel="prefetch" href="/assets/js/40.43f0acc3.js"><link rel="prefetch" href="/assets/js/41.7bcb3391.js"><link rel="prefetch" href="/assets/js/42.d64e546e.js"><link rel="prefetch" href="/assets/js/43.a2cbbfc3.js"><link rel="prefetch" href="/assets/js/44.0492f992.js"><link rel="prefetch" href="/assets/js/45.af66bbe7.js"><link rel="prefetch" href="/assets/js/46.c1c9a53c.js"><link rel="prefetch" href="/assets/js/47.7a2bd268.js"><link rel="prefetch" href="/assets/js/48.0376d3a5.js"><link rel="prefetch" href="/assets/js/49.60535624.js"><link rel="prefetch" href="/assets/js/5.4ceb5601.js"><link rel="prefetch" href="/assets/js/50.88e721ab.js"><link rel="prefetch" href="/assets/js/51.a1a8ca8d.js"><link rel="prefetch" href="/assets/js/52.19d2519d.js"><link rel="prefetch" href="/assets/js/53.891befed.js"><link rel="prefetch" href="/assets/js/54.b3d8b254.js"><link rel="prefetch" href="/assets/js/55.a4b8b234.js"><link rel="prefetch" href="/assets/js/56.710acef5.js"><link rel="prefetch" href="/assets/js/6.cb88f024.js"><link rel="prefetch" href="/assets/js/7.0f51d652.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8ee43d73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">‚òª itsyuimorii.space</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ú∏„Éé„Éº„Éà" class="dropdown-title"><span class="title">‚ú∏„Éé„Éº„Éà</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ú∏„Éé„Éº„Éà" class="mobile-dropdown-title"><span class="title">‚ú∏„Éé„Éº„Éà</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          „ÄåÂ≠¶Áøí„Éé„Éº„Éà„Äç
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  ‚ñ´Ô∏è React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  ‚ñ´Ô∏è Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  ‚ñ´Ô∏è Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link router-link-active">
  ‚ñ´Ô∏è Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          „Äå„É°„É¢Â∏≥„Äç
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link">
  ‚ñ´Ô∏è memo„É°„É¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link">
  ‚ñ´Ô∏è „Éó„É©„ÇØ„ÉÜ„Ç£„Çπ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã" class="dropdown-title"><span class="title">‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã" class="mobile-dropdown-title"><span class="title">‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          „É©„Ç§„Éï
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  Ë™≠Êõ∏„É°„É¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  „É¢„Éº„É°„É≥„Éà
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ú∏„Éé„Éº„Éà" class="dropdown-title"><span class="title">‚ú∏„Éé„Éº„Éà</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ú∏„Éé„Éº„Éà" class="mobile-dropdown-title"><span class="title">‚ú∏„Éé„Éº„Éà</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          „ÄåÂ≠¶Áøí„Éé„Éº„Éà„Äç
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  ‚ñ´Ô∏è React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  ‚ñ´Ô∏è Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  ‚ñ´Ô∏è Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link router-link-active">
  ‚ñ´Ô∏è Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          „Äå„É°„É¢Â∏≥„Äç
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link">
  ‚ñ´Ô∏è memo„É°„É¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link">
  ‚ñ´Ô∏è „Éó„É©„ÇØ„ÉÜ„Ç£„Çπ
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã" class="dropdown-title"><span class="title">‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã" class="mobile-dropdown-title"><span class="title">‚ú∏„Åô„Åπ„Å¶„ÇíË®òÈå≤„Åô„Çã</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          „É©„Ç§„Éï
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  Ë™≠Êõ∏„É°„É¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  „É¢„Éº„É°„É≥„Éà
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/nextjs/" aria-current="page" class="sidebar-link">Next.js</a></li><li><a href="/guide/nextjs/nextjs-basic.html" aria-current="page" class="active sidebar-link">1. What is getStaticProps &amp;&amp; getStaticPaths</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#_1-what-is-getstaticprops-getstaticpaths" class="sidebar-link">1. What is getStaticProps &amp;&amp; getStaticPaths</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#_2-deep-understanding-getstaticprops" class="sidebar-link">2. Deep understanding getStaticProps</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#invocation-timing" class="sidebar-link">Invocation Timing</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#_3-deep-understanding-getstaticpaths" class="sidebar-link">3. Deep understanding `getStaticPaths</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#pre-rendering" class="sidebar-link">Pre-rendering</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#two-forms-of-pre-rendering" class="sidebar-link">Two Forms of Pre-rendering</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#how-to-enabling-static-generation" class="sidebar-link">How to Enabling Static Generation</a></li><li class="sidebar-sub-header"><a href="/guide/nextjs/nextjs-basic.html#fetching-data-at-request-time" class="sidebar-link">Fetching Data at Request Time</a></li></ul></li><li><a href="/guide/nextjs/nextjs-study-notes.html" class="sidebar-link">‚ö™Ô∏è Next.js-articles „ÅÆÁ†îÁ©∂‰æã„Çí„ÅÑ„Åè„Å§„Åã</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-what-is-getstaticprops-getstaticpaths"><a href="#_1-what-is-getstaticprops-getstaticpaths" class="header-anchor">#</a> 1. What is getStaticProps &amp;&amp; getStaticPaths</h2> <h3 id="getstaticprops"><a href="#getstaticprops" class="header-anchor">#</a> getStaticProps</h3> <ul><li><strong>Purpose</strong>: Primarily used for fetching static data at build time, which is then pre-rendered into HTML.</li> <li><strong>Execution Timing</strong>: By default, getStaticProps runs only once at build time, with subsequent requests serving the data fetched during this build.</li> <li><strong>Application Scenarios</strong>:
<ul><li><strong>SSG</strong>: In static site generation, getStaticProps provides necessary data for each page, optimizing SEO and load performance.</li> <li><strong>ISR</strong>: By specifying a revalidate option, getStaticProps supports incremental static regeneration, allowing pages to be updated periodically after deployment without rebuilding the entire site.</li></ul></li></ul> <h3 id="getstaticpaths"><a href="#getstaticpaths" class="header-anchor">#</a> getStaticPaths</h3> <ul><li><strong>Purpose</strong>: Used for dynamic route pages, guiding Next.js on how to generate static pages for dynamic routes at build time.</li> <li><strong>Execution Timing</strong>: Runs at build time to pre-generate pages based on the returned paths.</li> <li><strong>Application Scenarios</strong>:
<ul><li><strong>Dynamic Routes</strong>: For pages with dynamic routes (e.g., pages/posts/[id].js), getStaticPaths determines which ids should be pre-rendered into static pages.</li> <li><strong>Integration with</strong> getStaticProps: Once getStaticPaths specifies certain paths, each path is then pre-rendered using getStaticProps to fetch the corresponding data.</li></ul></li></ul> <h3 id="light-bulb-on-considerations"><a href="#light-bulb-on-considerations" class="header-anchor">#</a> :light_bulb_on: Considerations</h3> <ul><li><strong>Difference from</strong> getServerSideProps: getStaticProps fetches data at build time, suitable for data that changes infrequently; getServerSideProps, on the other hand, fetches data on every request, suitable for scenarios requiring real-time data.</li> <li><strong>Data Updates</strong>: To update data on pages pre-rendered with getStaticProps, you can trigger a site rebuild or utilize ISR for updates.</li> <li><strong>Page-Level Only</strong>: Both getStaticProps and getStaticPaths can only be used in page components, not within child components.</li></ul> <h2 id="_2-deep-understanding-getstaticprops"><a href="#_2-deep-understanding-getstaticprops" class="header-anchor">#</a> 2. Deep understanding getStaticProps</h2> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// pages/products.tsx</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ProductsPageProps</span> <span class="token punctuation">{</span>
  products<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ProductsPage<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>ProductsPageProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Our Products</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>products<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>description<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">$</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>price<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getStaticProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Simulating fetching data from an external API</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;https://fakestoreapi.com/products&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> products<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Fetched products at build time with getStaticProps&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      products<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductsPage<span class="token punctuation">;</span>
</code></pre></div><ul><li>**Page Component (**ProductsPage): This component is responsible for rendering the products page. It receives an array of products as a prop, iterating over the array to display each product's name, description, and price.</li> <li><strong>Data Fetching with</strong> getStaticProps: The getStaticProps function fetches data from an external API, in this case, a list of products. This function runs at build time, pre-fetching the data needed to render the products page.</li> <li><strong>Props Structure</strong>: The fetched data is structured under the props key and passed to the ProductsPage component. This approach ensures that the component has access to the product data when it's rendered.</li> <li><strong>Static Generation</strong>: By utilizing getStaticProps, Next.js pre-renders the products page with the fetched data at build time. The resulting static page includes all product information, ready to be served immediately to users, enhancing the page's load time and SEO.</li></ul> <h3 id="benefits"><a href="#benefits" class="header-anchor">#</a> Benefits</h3> <ul><li><strong>Improved Load Time</strong>: Since the data is fetched at build time and the page is pre-rendered, users experience faster page loads.</li> <li><strong>SEO Optimization</strong>: The pre-rendered page includes all product information in the HTML, making it easily indexable by search engines.</li> <li><strong>Build-time Data Fetching</strong>: Fetching data at build time is efficient for data that doesn't change frequently, reducing the need for real-time API calls on each request.</li></ul> <h2 id="invocation-timing"><a href="#invocation-timing" class="header-anchor">#</a> Invocation Timing</h2> <ol><li><p><strong>During</strong> next build Execution:</p> <ul><li>getStaticProps is called once during the build process (next build). This means that for each page, getStaticProps fetches data and generates static HTML and a corresponding JSON file. These files can then be directly deployed to a CDN.</li></ul></li> <li><p><strong>When</strong> getStaticPaths Returns fallback as Not false:</p> <ul><li>For dynamic route pages, getStaticProps is used alongside getStaticPaths. If getStaticPaths sets fallback to true or 'blocking', getStaticProps will be invoked to generate static pages for new path requests that were not generated at build time.</li></ul></li> <li><p><strong>When Using</strong> revalidate:</p> <ul><li>When the object returned by getStaticProps includes a revalidate property, Incremental Static Regeneration (ISR) is enabled. The revalidate property specifies the interval at which the page data should be updated. Within this interval, the page will not be regenerated. Once surpassed, the next page request will trigger a re-generation of the page.</li></ul></li></ol> <h3 id="light-bulb-on-json-file-and-data-access"><a href="#light-bulb-on-json-file-and-data-access" class="header-anchor">#</a> :light_bulb_on:JSON File and Data Access</h3> <p>At build time, Next.js generates not only static HTML files but also corresponding JSON files for pages using getStaticProps. This JSON file contains the return value of getStaticProps. It enables Next.js to quickly load data from the JSON file during client-side navigation (e.g., through next/link or next/router), instead of reloading the entire page, thus achieving fast client-side route transitions.</p> <p>Example of a JSON file:</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;pageProps&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;__N_SSG&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Here, the **N_SSG flag indicates that this is a page generated through static generation, distinct from the **N_SSP flag used for pages generated through Server-Side Rendering (SSR), to differentiate between the data fetching methods.</p> <h3 id="key-takeaways"><a href="#key-takeaways" class="header-anchor">#</a> <strong>Key Takeaways:</strong></h3> <p>getStaticProps offers an efficient method for data fetching and page pre-rendering, particularly suited for scenarios where content updates infrequently. By leveraging static generation, incremental generation for dynamic routes, and ISR, Next.js applications can combine the high performance of static files with the flexibility of dynamic content, optimizing both user experience and SEO.</p> <ol><li><strong>Server-Side Execution</strong>: getStaticProps operates exclusively on the server, ensuring no part of its code ends up in the client-side JavaScript bundle.</li> <li><strong>Direct Server-Side Code</strong>: Within getStaticProps, you can write server-side code to access the file system via the fs module, query databases, or include sensitive information like API keys, all securely without exposing any of it to the client-side browser.</li> <li><strong>Page-Specific and Pre-rendering Only</strong>: getStaticProps is exclusive to page components and cannot be used in regular presentation components. It's designed for pre-rendering pages at build time, not for client-side data fetching.</li> <li><strong>Return Object Structure</strong>: getStaticProps must return an object containing a props key, which itself is an object. This structure ensures the returned data can be passed as props to the page component.</li> <li><strong>Build Time and Development Mode Execution</strong>: getStaticProps runs at build time for static generation. In development mode (npm run dev), getStaticProps executes on every request, ensuring developers have up-to-date data while working on the application.</li></ol> <h2 id="_3-deep-understanding-getstaticpaths"><a href="#_3-deep-understanding-getstaticpaths" class="header-anchor">#</a> 3. Deep understanding `getStaticPaths</h2> <h3 id="light-bulb-on-using-getstaticpaths"><a href="#light-bulb-on-using-getstaticpaths" class="header-anchor">#</a> :light_bulb_on: Using getStaticPaths</h3> <p>getStaticPaths is mainly used to build static pages in dynamic routes, which simply means that a dynamic route can be converted to multiple static pages by getStaticPaths.</p> <ul><li>pages/get-static-paths/[id].tsx</li></ul> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">GetStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">{</span> post <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> post<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Post: </span><span class="token punctuation">{</span>post<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> paths <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token function">String</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Generated paths:&quot;</span><span class="token punctuation">,</span> paths<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> paths<span class="token punctuation">,</span> fallback<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Fetching data for post:&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> props<span class="token operator">:</span> <span class="token punctuation">{</span> post<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Post content for </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GetStaticPaths<span class="token punctuation">;</span>
</code></pre></div><p>Here is a simple dynamic route, with getStaticPaths we can define the matching route values for this dynamic route, matching the parameters in the dynamic route with the params parameter in paths[number]. <em>Here are the</em> getStaticPaths <em>and</em> getStaticProps <em>related parts of the next.js steps to convert it to a static page.</em></p> <ul><li><strong>Invoke</strong> next build: Initiates the page data collection process in Next.js.</li> <li><strong>Detect Dynamic Routes</strong>: Next.js calls getStaticPaths for pages with dynamic routes to obtain paths for static generation.</li> <li><strong>Iterate</strong> paths: Each path from the getStaticPaths return value is matched with its corresponding dynamic route.</li> <li><strong>Generate Static Pages</strong>: Matches lead to the static generation process for each route.</li> <li><strong>Execute</strong> getStaticProps: The params from each path are passed to getStaticProps, which fetches data for the page.</li> <li><strong>Create HTML and JSON</strong>: The data returned from getStaticProps is used to produce HTML and JSON files for each static page.</li></ul> <p>So the above code will generate 10 static pages [1-10].html and 10 JSON files [1-10].json in next build, the generated files can be viewed under .next/server/pages/.</p> <h3 id="light-bulb-on-understanding-getstaticpaths-operation"><a href="#light-bulb-on-understanding-getstaticpaths-operation" class="header-anchor">#</a> :light_bulb_on: <strong>Understanding</strong> getStaticPaths Operation:</h3> <ul><li><p><strong>Static Resources</strong>: The posts document, along with associated JavaScript files (e.g., _app, framework, main, and webpack runtime), are downloaded. These scripts include the code for the entire application and are essential for the page to function correctly.</p></li> <li><p><strong>JSON Data Fetching</strong>: Alongside the static resources, there are JSON files named 1.json, 2.json, 3.json, etc. These files are fetched dynamically and correspond to the data for each post.</p></li> <li><p>When using getStaticPaths, Next.js statically pre-renders pages at build time based on the paths returned from this function.</p></li> <li><p>Each path corresponds to a page that can be accessed by a user, and for dynamic routes (like posts), Next.js generates a JSON file for each path.</p></li> <li><p>These JSON files contain the data needed to hydrate the page with content on the client side after the initial HTML has been loaded.</p></li> <li><p>The presence of 1.json, 2.json, and 3.json indicates that three posts have been pre-rendered, and their data is available for the application to use when rendering the pages client-side.</p></li> <li><p>When a user navigates to a specific post, the corresponding JSON file is fetched, which provides the data necessary to render the page fully with all the post details.</p></li></ul> <h3 id="light-bulb-on-understanding-the-fallback-parameter-in-next-js"><a href="#light-bulb-on-understanding-the-fallback-parameter-in-next-js" class="header-anchor">#</a> :light_bulb_on: Understanding the fallback Parameter in Next.js</h3> <p>The fallback parameter in getStaticPaths is a crucial feature for handling dynamic routes in Next.js applications. <em>It determines the behavior of the application when a user accesses a route that hasn't been pre-rendered into a static page.</em> There are three possible values for fallback: false, true, and blocking, each affecting the page access differently:</p> <h4 id="fallback-false"><a href="#fallback-false" class="header-anchor">#</a> fallback: false</h4> <ul><li>This is the default behavior where only the paths specified in getStaticPaths are pre-rendered at build time.</li> <li>Accessing a non-existent page, such as /get-static-paths/11 when it's not defined in getStaticPaths, results in a 404 error page.</li> <li>Suitable for applications where the set of valid paths is known and static.</li> <li>‰ΩøÁî®Â†¥ÊôØ:
<ul><li>ÈúÄË¶ÅÈ†êÊ∏≤ÊüìÁöÑË∑ØÂæëËºÉÂ∞ë</li> <li>‰∏çÁ∂ìÂ∏∏Ê∑ªÂä†Êñ∞È†ÅÈù¢</li></ul></li></ul> <h4 id="fallback-true"><a href="#fallback-true" class="header-anchor">#</a> fallback: true</h4> <ul><li>The path returned by getStaticProps will be rendered to html by getStaticProps at build time.</li> <li>When a user navigates to a page that doesn't exist within the pre-rendered paths, instead of immediately presenting a 404 error, Next.js will render a fallback version of the page. This is especially relevant when the fallback key in getStaticPaths is set to true. During this time, if you want to display a loading state, you can use router.isFallback to check if the fallback is currently being displayed. Here's how you can integrate this into your component:</li></ul> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/router&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>isFallback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Render a loading state while the page is being statically generated</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Render your page's content</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>In the background, Next.js uses the page parameters to fetch data with getStaticProps, generates the static page and a JSON file, and then dynamically updates the page with the fetched data.</li> <li>On subsequent visits to the same path, the pre-rendered static page is served directly, mirroring the behavior of existing pages.</li> <li>This can be seen as a <em>lazy build</em> strategy, enabling on-demand static generation for paths not pre-rendered at build time.</li></ul> <h4 id="fallback-blocking"><a href="#fallback-blocking" class="header-anchor">#</a> fallback: 'blocking'</h4> <ul><li>Similar to fallback: true, but with a critical difference: when accessing a non-existent page, the request waits for getStaticProps to finish fetching data and generating the static page before it is returned to the user.</li> <li>This eliminates the need for a second data request and ensures that users get a consistent, pre-rendered page on the first access, whether asynchronously (with true) or synchronously (with blocking).</li></ul> <p>Each fallback mode offers different advantages, depending on the specific needs of your application. fallback: false ensures fast performance and is suitable for known, unchanging routes. fallback: true offers flexibility and efficiency for applications with potentially infinite paths by generating pages on-demand. fallback: 'blocking' provides a seamless user experience by ensuring all users receive statically generated content, even if it means a slight delay on the first request to a non-pre-rendered path.</p> <p>üìå Here there is a need to pay attention to the problem is getStaticPaths params in the parameter needs to be a string, otherwise it will lead to a failure to match, <em>guess for next.js in the type judgment or map operation, this in the follow-up source code to understand in the learning.</em></p> <h3 id="light-bulb-on-understanding-getstaticprops-and-getserversideprops-in-next-js"><a href="#light-bulb-on-understanding-getstaticprops-and-getserversideprops-in-next-js" class="header-anchor">#</a> :light_bulb_on: Understanding getStaticProps and getServerSideProps in Next.js</h3> <p>It's crucial to recognize that getStaticProps and getServerSideProps are not interchangeable within the same page in Next.js. getStaticProps is tailored for Static Site Generation (SSG) scenarios, while getServerSideProps is designed for Server-Side Rendering (SSR) scenarios. Attempting to use both in a single page will trigger a Next.js warning: <em>You cannot use</em> getStaticProps <em>or</em> getStaticPaths <em>with</em> getServerSideProps <em>To use SSG, please remove getServerSideProps</em>.</p> <p>From a design perspective, mixing them might seem logical: getStaticProps for fetching static data and getServerSideProps for dynamic data, with dynamic potentially overriding static. However, Next.js enforces a function singularity principle, advocating for clear separation of static and dynamic data fetching mechanisms to ensure optimal performance and predictability.</p> <h3 id="light-bulb-on-when-to-use-getstaticprops"><a href="#light-bulb-on-when-to-use-getstaticprops" class="header-anchor">#</a> :light_bulb_on: When to Use getStaticProps</h3> <p>The decision on when to utilize getStaticProps can be guided by the nature of the data on your page:</p> <ul><li><strong>Static Data Updates</strong>: If your page content updates are triggered by publishing actions, getStaticProps is the ideal choice. It's essential, however, to be mindful of data security and privacy concerns.</li> <li><strong>Mix of Static and Dynamic Data</strong>: For pages containing both static and dynamic data, it's recommended to stick with getServerSideProps. This ensures that dynamic content is accurately rendered based on each request, maintaining up-to-date information and interaction.</li></ul> <p>In summary, while getStaticProps offers significant benefits for pages with data that doesn't change frequently, scenarios requiring real-time data should leverage getServerSideProps for its ability to fetch and render content server-side on each request. The choice between these data fetching methods hinges on the specific requirements of your Next.js application and the data it needs to present.</p> <h2 id="pre-rendering"><a href="#pre-rendering" class="header-anchor">#</a> Pre-rendering</h2> <ul><li>Nextjs will pre-generate the HTML for each page, instead of letting client-side Javascript generate the HTML. <strong>Each HTML generated is associated with the minimum JavaScript code required for that page.</strong> When the browser loads the page, its JavaScript code works and makes the page fully interactive. <em>(This process is called hydration.)</em></li></ul> <h2 id="two-forms-of-pre-rendering"><a href="#two-forms-of-pre-rendering" class="header-anchor">#</a> Two Forms of Pre-rendering</h2> <h3 id="static-generation"><a href="#static-generation" class="header-anchor">#</a> <strong>Static generation</strong>:</h3> <ul><li>Static generation is the <code>pre-rendering</code> method where the <code>HTML</code> pages are generated at build time. It offers excellent performance since the HTML is generated once and reused for each request. There are two scenarios in <code>Static Generation</code>:
<ul><li><strong>Without Data</strong>: This is suitable for pages that <em>do not require external data</em> to be rendered. The <code>HTML</code> is generated at build time and can be cached and served by a CDN.</li> <li><strong>With Data</strong>: When the page content depends on external data (e.g., from a headless CMS), you can fetch this data at build time and generate the <code>HTML</code> based on that data. This approach is <em>still <strong>static</strong> since the data fetching and</em> <code>HTML</code> <em>generation happen once during the build process.</em> <ul><li><strong>Incremental Static Regeneration (ISR)</strong>: An enhancement to static generation with data, ISR allows pages to be regenerated on a per-request basis, at a defined interval, without needing to rebuild the entire site. <em>This makes it possible to have updated data without sacrificing the benefits of static generation</em></li></ul></li></ul></li></ul> <h3 id="server-side-rendering-ssr"><a href="#server-side-rendering-ssr" class="header-anchor">#</a> <strong>Server-Side Rendering (SSR)</strong></h3> <ul><li><strong>Data Fetching</strong>: SSR dynamically <em>generates the HTML for each page</em> on every request, which means it can always serve the most up-to-date content. It's particularly useful for pages that fetch data that changes frequently, ensuring that users always get the latest information.</li> <li><strong>Dynamic Parameters Support</strong>: SSR is ideal for handling dynamic routes where the content of the page depends on parameters passed in the URL. The server can use these parameters to fetch specific data and render the page accordingly.</li></ul> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><strong>Use Cases</strong></td> <td><strong>Static Generation</strong></td> <td><strong>Server-Side Rendering</strong></td></tr> <tr><td></td> <td><strong>Blogging Sites</strong>:<br><br>- Content updates infrequently.<br> <br>- At build time, articles are fetched from a headless CMS to generate static pages for fast access.</td> <td><strong>E-commerce Sites</strong>:<br><br>- Product information, prices, and stock levels change frequently.<br> <br>- SSR ensures that users see the most up-to-date product information.</td></tr> <tr><td></td> <td><strong>Documentation Sites</strong>:<br><br>- Technical documentation with relatively low update frequency.<br> <br>- Static pages are easy to cache and distribute, speeding up access.</td> <td><strong>Social Media Platforms</strong>:<br><br>- User posts, comments, and other content are constantly updated.<br> <br>- SSR dynamically generates pages with the latest content, enhancing real-time interaction.</td></tr></tbody></table> <h2 id="how-to-enabling-static-generation"><a href="#how-to-enabling-static-generation" class="header-anchor">#</a> How to Enabling Static Generation</h2> <p>Static Generation is a pre-rendering technique in Next.js that allows for the generation of HTML pages at build time. The most straightforward way to enable Static Generation is by using <code>getStaticProps</code> (for fetching page data) and <code>getStaticPaths</code> (for pages with dynamic routes) within your pages.</p> <h3 id="production-server-vs-development-server"><a href="#production-server-vs-development-server" class="header-anchor">#</a> Production Server vs. Development Server</h3> <ul><li><strong>Production Server</strong>: When you run the <code>next build</code> command to build your application, Next.js generates static HTML for every page that utilizes <code>getStaticProps</code>. These pages are rendered at build time and subsequently, each request serves these pre-rendered static pages without regenerating them. This means that once the build is complete, the page content will not change unless a rebuild is executed.</li> <li><strong>Development Server</strong>: In development mode (usually initiated with <code>npm run dev</code> or <code>yarn dev</code>), <code>getStaticProps</code> is executed on every request for the sake of convenience in development. This ensures that you see the most up-to-date data and page changes while developing. The development mode simulates the static generation of the production mode but ensures hot reloading after each file change, offering a smoother development experience.</li></ul> <h2 id="fetching-data-at-request-time"><a href="#fetching-data-at-request-time" class="header-anchor">#</a> Fetching Data at Request Time</h2> <h3 id="data-fetching-with-dynamic-parameters-and-client-side-data-fetching"><a href="#data-fetching-with-dynamic-parameters-and-client-side-data-fetching" class="header-anchor">#</a> Data Fetching with Dynamic Parameters and Client-Side Data Fetching</h3> <ul><li><strong>Dynamic Parameter Support in Server-Side Rendering</strong>: Server-side rendering allows for dynamic data fetching based on request parameters, making it ideal for pages with dynamic routes. This flexibility enables the server to generate page content that specifically matches the parameters of each request.</li> <li><strong>Client-Side Data Fetching</strong>: Data can also be fetched on the client-side using JavaScript, which is suitable for scenarios where page content needs to be updated in real-time based on user interactions. This approach allows web applications to fetch and render data reactively, enhancing the user experience with dynamic content.</li></ul> <h3 id="combining-pre-rendering-with-client-side-data-fetching"><a href="#combining-pre-rendering-with-client-side-data-fetching" class="header-anchor">#</a> Combining Pre-rendering with Client-Side Data Fetching</h3> <p>By integrating pre-rendering techniques with client-side data fetching, developers can create applications that are both fast to load and highly interactive. Static content is pre-rendered at build time for quick initial display to users, while dynamic content is fetched and updated on the client-side as users interact with the application. This combination offers the best of both worlds: the performance benefits of static generation and the flexibility of dynamic, client-side data updates.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/guide/nextjs/" class="prev router-link-active">
        Next.js
      </a></span> <span class="next"><a href="/guide/nextjs/nextjs-study-notes.html">
        ‚ö™Ô∏è Next.js-articles „ÅÆÁ†îÁ©∂‰æã„Çí„ÅÑ„Åè„Å§„Åã
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.204ed3d4.js" defer></script><script src="/assets/js/2.a44fb3b0.js" defer></script><script src="/assets/js/1.8d37d391.js" defer></script><script src="/assets/js/32.f990ea1b.js" defer></script>
  </body>
</html>
