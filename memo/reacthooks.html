<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>âšªï¸ ReactHooks ã‚’æ·±ãç†è§£ã™ã‚‹ | â˜» itsyuimorii.space</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.204ed3d4.js" as="script"><link rel="preload" href="/assets/js/2.a44fb3b0.js" as="script"><link rel="preload" href="/assets/js/1.8d37d391.js" as="script"><link rel="preload" href="/assets/js/50.88e721ab.js" as="script"><link rel="prefetch" href="/assets/js/10.d8df69df.js"><link rel="prefetch" href="/assets/js/11.2a97faa3.js"><link rel="prefetch" href="/assets/js/12.5fd72f78.js"><link rel="prefetch" href="/assets/js/13.767d92f0.js"><link rel="prefetch" href="/assets/js/14.09112e04.js"><link rel="prefetch" href="/assets/js/15.2d87bde7.js"><link rel="prefetch" href="/assets/js/16.d6bec5e2.js"><link rel="prefetch" href="/assets/js/17.3dbcb51f.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.1b72b4a4.js"><link rel="prefetch" href="/assets/js/20.9741499c.js"><link rel="prefetch" href="/assets/js/21.7f8f7869.js"><link rel="prefetch" href="/assets/js/22.3f20ce36.js"><link rel="prefetch" href="/assets/js/23.7c0322e8.js"><link rel="prefetch" href="/assets/js/24.fa4b7294.js"><link rel="prefetch" href="/assets/js/25.4b75e33e.js"><link rel="prefetch" href="/assets/js/26.6ccb7807.js"><link rel="prefetch" href="/assets/js/27.6c078df5.js"><link rel="prefetch" href="/assets/js/28.520f43fd.js"><link rel="prefetch" href="/assets/js/29.844af673.js"><link rel="prefetch" href="/assets/js/3.f8c28e7e.js"><link rel="prefetch" href="/assets/js/30.b352e55d.js"><link rel="prefetch" href="/assets/js/31.c2296a43.js"><link rel="prefetch" href="/assets/js/32.f990ea1b.js"><link rel="prefetch" href="/assets/js/33.e2f64269.js"><link rel="prefetch" href="/assets/js/34.b9fe4fba.js"><link rel="prefetch" href="/assets/js/35.6015d88a.js"><link rel="prefetch" href="/assets/js/36.2ee99065.js"><link rel="prefetch" href="/assets/js/37.9bd0a687.js"><link rel="prefetch" href="/assets/js/38.04db86c7.js"><link rel="prefetch" href="/assets/js/39.1fe91b86.js"><link rel="prefetch" href="/assets/js/4.9eb8282d.js"><link rel="prefetch" href="/assets/js/40.43f0acc3.js"><link rel="prefetch" href="/assets/js/41.7bcb3391.js"><link rel="prefetch" href="/assets/js/42.d64e546e.js"><link rel="prefetch" href="/assets/js/43.a2cbbfc3.js"><link rel="prefetch" href="/assets/js/44.0492f992.js"><link rel="prefetch" href="/assets/js/45.af66bbe7.js"><link rel="prefetch" href="/assets/js/46.c1c9a53c.js"><link rel="prefetch" href="/assets/js/47.7a2bd268.js"><link rel="prefetch" href="/assets/js/48.0376d3a5.js"><link rel="prefetch" href="/assets/js/49.60535624.js"><link rel="prefetch" href="/assets/js/5.4ceb5601.js"><link rel="prefetch" href="/assets/js/51.a1a8ca8d.js"><link rel="prefetch" href="/assets/js/52.19d2519d.js"><link rel="prefetch" href="/assets/js/53.891befed.js"><link rel="prefetch" href="/assets/js/54.b3d8b254.js"><link rel="prefetch" href="/assets/js/55.a4b8b234.js"><link rel="prefetch" href="/assets/js/56.710acef5.js"><link rel="prefetch" href="/assets/js/6.cb88f024.js"><link rel="prefetch" href="/assets/js/7.0f51d652.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8ee43d73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">â˜» itsyuimorii.space</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="mobile-dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ã€Œå­¦ç¿’ãƒãƒ¼ãƒˆã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  â–«ï¸ React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  â–«ï¸ Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  â–«ï¸ Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link">
  â–«ï¸ Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          ã€Œãƒ¡ãƒ¢å¸³ã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link router-link-active">
  â–«ï¸ memoãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link">
  â–«ï¸ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="mobile-dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ãƒ©ã‚¤ãƒ•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  èª­æ›¸ãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ãƒãƒ¼ãƒˆ" class="mobile-dropdown-title"><span class="title">âœ¸ãƒãƒ¼ãƒˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ã€Œå­¦ç¿’ãƒãƒ¼ãƒˆã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/react/" class="nav-link">
  â–«ï¸ React.js
</a></li><li class="dropdown-subitem"><a href="/guide/typescript/" class="nav-link">
  â–«ï¸ Typescript
</a></li><li class="dropdown-subitem"><a href="/guide/javascript/" class="nav-link">
  â–«ï¸ Javascript
</a></li><li class="dropdown-subitem"><a href="/guide/nextjs/" class="nav-link">
  â–«ï¸ Next.js
</a></li></ul></li><li class="dropdown-item"><h4>
          ã€Œãƒ¡ãƒ¢å¸³ã€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/memo/" class="nav-link router-link-active">
  â–«ï¸ memoãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/practice/" class="nav-link">
  â–«ï¸ ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow down"></span></button> <button type="button" aria-label="âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹" class="mobile-dropdown-title"><span class="title">âœ¸ã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ãƒ©ã‚¤ãƒ•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/reading/" class="nav-link">
  èª­æ›¸ãƒ¡ãƒ¢
</a></li><li class="dropdown-subitem"><a href="/life/moment/" class="nav-link">
  ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/itsyuimorii" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/memo/" aria-current="page" class="sidebar-link">ğŸ”º MEMO ãƒ¡ãƒ¢</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/memo/jsreview.html" class="sidebar-link">âšªï¸ JavaScript æ·±ã„ç†è§£ã¨å®Ÿè·µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-reference-vs-primitive" class="sidebar-link">ğŸ”¶ Reference vs Primitive</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-reference-types-in-javascript" class="sidebar-link">â–«ï¸ Reference Types in JavaScript:</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-strange-behavior-of-reference-types" class="sidebar-link">â–«ï¸ Strange Behavior of &quot;Reference Types&quot;</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-how-to-copy-objects-and-arrays" class="sidebar-link">â–«ï¸ How to Copy Objects and Arrays:</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-deconstruction-assignment" class="sidebar-link">ğŸ”¶ Deconstruction Assignment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-deconstructing-objects" class="sidebar-link">â–«ï¸ Deconstructing Objects</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-deconstructing-arrays" class="sidebar-link">â–«ï¸ Deconstructing Arrays</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-arrow-function-ã®ç†è§£" class="sidebar-link">ğŸ”¶ Arrow function ã®ç†è§£</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒˆã‚™-this-ã®ç†è§£" class="sidebar-link">ğŸ”¶ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ &quot;this &quot;ã®ç†è§£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ã‚¢ãƒ­ãƒ¼é–¢æ•°ã¦ã‚™æ›¸ãç†ç”±-1-é–¢æ•°ã‚’çŸ­ãæ›¸ããŸã„" class="sidebar-link">ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ãç†ç”± â‘  é–¢æ•°ã‚’çŸ­ãæ›¸ããŸã„</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ã‚¢ãƒ­ãƒ¼é–¢æ•°ã¦ã‚™æ›¸ãç†ç”±-2-this-ã‚’æŸç¸›ã—ãªã„" class="sidebar-link">ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ãç†ç”± â‘¡ this ã‚’æŸç¸›ã—ãªã„</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ãƒ¡ã‚½ãƒƒãƒˆã‚™å‘¼ã²ã‚™å‡ºã—ãƒã‚šã‚¿ãƒ¼ãƒ³" class="sidebar-link">ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒˆã‚™-class-ã®ç†è§£" class="sidebar-link">ğŸ”¶ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ &quot;class&quot;ã®ç†è§£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#class-ã®-åŸºæœ¬æ¦‚å¿µ" class="sidebar-link">Class ã® åŸºæœ¬æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#strict-mode-class" class="sidebar-link">Strict mode &amp;&amp; Class</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ç®­é ­å‡½æ•¸åœ¨-class-ä¸­çš„å½±éŸ¿" class="sidebar-link">ç®­é ­å‡½æ•¸åœ¨ Class ä¸­çš„å½±éŸ¿</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿" class="sidebar-link">ã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¶-static-properties-and-static-methods-in-classes" class="sidebar-link">ğŸ”¶ Static Properties and Static Methods in Classes</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”·-array-ä¸»ãªãƒ¡ã‚½ãƒƒãƒˆã‚™" class="sidebar-link">ğŸ”· Array ä¸»ãªãƒ¡ã‚½ãƒƒãƒ‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-array-prototype-push" class="sidebar-link">â–«ï¸ Array.prototype.push()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸array-prototype-from" class="sidebar-link">â–«ï¸Array.prototype.from()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸array-prototype-fill" class="sidebar-link">â–«ï¸Array.prototype.fill()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#å¡«å……å”¯ä¸€å°è±¡" class="sidebar-link">å¡«å……å”¯ä¸€å°è±¡</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ä½¿ç”¨-for-å¾ªç’°" class="sidebar-link">ä½¿ç”¨ for å¾ªç’°</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ä½¿ç”¨å±•é–‹èªæ³•" class="sidebar-link">ä½¿ç”¨å±•é–‹èªæ³• (...)</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”¸-array-prototype-map" class="sidebar-link">ğŸ”¸ Array.prototype.map()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-array-prototype-filter" class="sidebar-link">â–«ï¸ Array.prototype.filter()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-array-prototype-find" class="sidebar-link">â–«ï¸ Array.prototype.find()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-array-prototype-reduce" class="sidebar-link">â–«ï¸ Array.prototype.reduce()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-array-prototype-foreach" class="sidebar-link">â–«ï¸ Array.prototype.forEach()</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#ğŸ”·-object-method" class="sidebar-link">ğŸ”· Object method</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸object-defineproperties" class="sidebar-link">â–«ï¸Object.defineProperties</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-object-entries" class="sidebar-link">â–«ï¸ Object.entries()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-object-fromentries" class="sidebar-link">â–«ï¸ Object.fromEntries()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-object-assign" class="sidebar-link">â–«ï¸ Object.assign()</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#â–«ï¸-object-create" class="sidebar-link">â–«ï¸ Object.create()</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#data-structure" class="sidebar-link">Data Structure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/jsreview.html#object-å’Œ-map-å€åˆ¥" class="sidebar-link">Object å’Œ Map å€åˆ¥</a></li><li class="sidebar-sub-header"><a href="/memo/jsreview.html#set-å’Œ-map-å€åˆ¥" class="sidebar-link">Set å’Œ Map å€åˆ¥</a></li></ul></li></ul></li><li><a href="/memo/typescript.html" class="sidebar-link">âšªï¸ Typescript æ·±ã„ç†è§£ã¨å®Ÿè·µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-1-start-here" class="sidebar-link">ğŸ”¸ Chapter 1: Start Here</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-2-basic-types" class="sidebar-link">ğŸ”¸ Chapter 2: Basic Types</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-3-arrays-objects" class="sidebar-link">ğŸ”¸ Chapter 3: Arrays &amp; Objects</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-4-functions" class="sidebar-link">ğŸ”¸ Chapter 4: Functions</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-5-assertions" class="sidebar-link">ğŸ”¸ Chapter 5: Assertions</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-6-classes" class="sidebar-link">ğŸ”¸ Chapter 6: Classes</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-7-index-signatures-keyof-assertions" class="sidebar-link">ğŸ”¸ Chapter 7: Index Signatures &amp; keyof Assertions</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-8-generics" class="sidebar-link">ğŸ”¸ Chapter 8: Generics</a></li><li class="sidebar-sub-header"><a href="/memo/typescript.html#ğŸ”¸-chapter-9-utility-types" class="sidebar-link">ğŸ”¸ Chapter 9: Utility Types</a></li></ul></li><li><a href="/memo/reacthooks.html" aria-current="page" class="active sidebar-link">âšªï¸ ReactHooks ã‚’æ·±ãç†è§£ã™ã‚‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#ğŸ”·-useeffect" class="sidebar-link">ğŸ”· useEffect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-what-is-useeffect" class="sidebar-link">â–«ï¸ what is useEffect</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-basic-purpose" class="sidebar-link">â–«ï¸ Basic Purpose</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-second-argument-dependency-array" class="sidebar-link">â–«ï¸ Second Argument - Dependency Array</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-return-of-cleanup-function" class="sidebar-link">â–«ï¸ Return of Cleanup Function</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-execution-timing" class="sidebar-link">â–«ï¸ Execution Timing</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-usage-limitation-cannot-use-async-functions-directly" class="sidebar-link">â–«ï¸ Usage Limitation - Cannot Use async Functions Directly</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#ğŸ”·-useref" class="sidebar-link">ğŸ”· useRef</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-what-is-useref" class="sidebar-link">â–«ï¸ what is useRef</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-basic-purpose-2" class="sidebar-link">â–«ï¸ Basic Purpose</a></li><li class="sidebar-sub-header"><a href="/memo/reacthooks.html#â–«ï¸-usage-limitation-cannot-use-useref-to-update-state" class="sidebar-link">â–«ï¸ Usage Limitation - Cannot Use useRef to Update State</a></li></ul></li></ul></li><li><a href="/memo/redux.html" class="sidebar-link">âšªï¸ React Redux ã‚’åŸºç¤ã‹ã‚‰ç†è§£ã™ã‚‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/redux.html#redux-ã®åŸºæœ¬æ¦‚å¿µ" class="sidebar-link">Redux ã®åŸºæœ¬æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#redux-s-core-api" class="sidebar-link">Redux's Core API:</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/redux.html#createstore" class="sidebar-link">createStore</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#useselector" class="sidebar-link">useSelector</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#dispatch" class="sidebar-link">dispatch</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/redux.html#redux-toolkit" class="sidebar-link">Redux Toolkit</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#redux-toolkit-s-core-apis" class="sidebar-link">Redux Toolkit's Core APIs:</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/redux.html#state-management-with-redux" class="sidebar-link">State management with Redux</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#process-of-using-redux-toolkit" class="sidebar-link">Process of using Redux Toolkit</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/redux.html#handling-asynchronous-code" class="sidebar-link">Handling Asynchronous Code:</a></li><li class="sidebar-sub-header"><a href="/memo/redux.html#redux-thunk" class="sidebar-link">Redux Thunk</a></li></ul></li><li><a href="/memo/graphql.html" class="sidebar-link">âšªï¸ graphql</a></li><li><a href="/memo/formikandyup.html" class="sidebar-link">âšªï¸ dockers</a></li><li><a href="/memo/archtiect.html" class="sidebar-link">## Backend for Frontend</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/archtiect.html#backend-for-frontend" class="sidebar-link">Backend for Frontend</a></li><li class="sidebar-sub-header"><a href="/memo/archtiect.html#graphql-æ¥å®ç°-bff-éœ€è¦æŒæ¡å“ªäº›æŠ€èƒ½" class="sidebar-link">GraphQL æ¥å®ç° BFFï¼Œéœ€è¦æŒæ¡å“ªäº›æŠ€èƒ½ï¼Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/archtiect.html#react-frontend-example" class="sidebar-link">React Frontend Example</a></li><li class="sidebar-sub-header"><a href="/memo/archtiect.html#backend-for-frontend-bff-example-with-java-spring-boot" class="sidebar-link">Backend for Frontend (BFF) Example with Java/Spring Boot</a></li></ul></li></ul></li><li><a href="/memo/strapi.html" class="sidebar-link">âšªï¸ Strapi ã¸ã®æ·±ã„ç†è§£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/strapi.html#project-structure" class="sidebar-link">project structure</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#headless-cms-ã¨ã¯" class="sidebar-link">headless CMS ã¨ã¯?</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#content-type-builder" class="sidebar-link">Content Type Builder</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/strapi.html#understanding-content-type-builder" class="sidebar-link">Understanding Content Type Builder:</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#example-use-case" class="sidebar-link">Example Use Case:</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#conclusion" class="sidebar-link">Conclusion:</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#understanding-content-type-builder-2" class="sidebar-link">Understanding Content Type Builder:</a></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#example-use-case-2" class="sidebar-link">Example Use Case:</a></li></ul></li><li class="sidebar-sub-header"><a href="/memo/strapi.html#content-manager" class="sidebar-link">Content Manager</a></li></ul></li><li><a href="/memo/jenkins.html" class="sidebar-link">âšªï¸ jinkens</a></li><li><a href="/memo/docker.html" class="sidebar-link">âšªï¸ dockers</a></li><li><a href="/memo/webpack.html" class="sidebar-link">âšªï¸ Webpack æ·±ã„ç†è§£ã¨å®Ÿè·µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/webpack.html#ğŸ”¶-webpack-ã¨ã¯" class="sidebar-link">ğŸ”¶ Webpack ã¨ã¯ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#ğŸ”¶-ãªã›ã‚™-webpack-ã‚’ä½¿ã†ã®ã‹" class="sidebar-link">ğŸ”¶ ãªãœ Webpack ã‚’ä½¿ã†ã®ã‹ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#ğŸ”¶-webpack-ã®è©³ç´°" class="sidebar-link">ğŸ”¶ Webpack ã®è©³ç´°ï¼Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-loader-for-different-resource-types" class="sidebar-link">â–«ï¸ Loader for Different Resource Types</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-basic-functions-of-webpack-using-loaders" class="sidebar-link">â–«ï¸ Basic Functions of Webpack (Using Loaders)</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-two-key-features-of-webpack" class="sidebar-link">â–«ï¸ Two Key Features of Webpack</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-webpack-configuration" class="sidebar-link">â–«ï¸ Webpack Configuration</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-webpack-build-process" class="sidebar-link">â–«ï¸ Webpack Build Process</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-common-plugins" class="sidebar-link">â–«ï¸ Common Plugins</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-difference-between-loader-and-plugin" class="sidebar-link">â–«ï¸ Difference Between Loader and Plugin</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-webpack-hot-module-replacement-hmr-principle" class="sidebar-link">â–«ï¸ Webpack Hot Module Replacement (HMR) Principle</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-webpack-build-speed-optimization" class="sidebar-link">â–«ï¸ Webpack Build Speed Optimization</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-webpack-bundle-analyzer" class="sidebar-link">â–«ï¸ webpack-bundle-analyzer</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#basic-steps-for-configuring-and-using-webpack-bundle-analyzer" class="sidebar-link">Basic Steps for Configuring and Using webpack-bundle-analyzer:</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-conditional-usage-in-development-environment" class="sidebar-link">â–«ï¸ Conditional Usage in Development Environment:</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-detailed-configuration-options-for-bundleanalyzerplugin" class="sidebar-link">â–«ï¸ Detailed Configuration Options for BundleAnalyzerPlugin:</a></li><li class="sidebar-sub-header"><a href="/memo/webpack.html#â–«ï¸-reference-links" class="sidebar-link">â–«ï¸ Reference Links:</a></li></ul></li></ul></li><li><a href="/memo/config.html" class="sidebar-link">âšªï¸ ã‚³ãƒ³ãƒ•ã‚£ã‚®ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/config.html#install-update-nvm" class="sidebar-link">Install &amp; Update nvm</a></li></ul></li><li><a href="/memo/git.html" class="sidebar-link">âšªï¸ git and github ã¸ã®æ·±ã„ç†è§£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/git.html#git-branch" class="sidebar-link">git branch</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#git-rebase-fix-old-commit" class="sidebar-link">git rebase fix old commit</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#fix-the-most-recent-commit-message" class="sidebar-link">Fix the most recent commit message</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#git-commit-message" class="sidebar-link">git commit message</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/memo/git.html#scenario" class="sidebar-link">Scenario</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#development-and-commits" class="sidebar-link">Development and Commits</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#squashing-commits" class="sidebar-link">Squashing Commits</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#commit-message-following-conventional-commits" class="sidebar-link">Commit Message Following Conventional Commits</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#automating-changelog-with-conventional-commits" class="sidebar-link">Automating CHANGELOG with Conventional Commits</a></li><li class="sidebar-sub-header"><a href="/memo/git.html#summary" class="sidebar-link">Summary</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="âšªï¸-reacthooks-ã‚’æ·±ãç†è§£ã™ã‚‹"><a href="#âšªï¸-reacthooks-ã‚’æ·±ãç†è§£ã™ã‚‹" class="header-anchor">#</a> âšªï¸ ReactHooks ã‚’æ·±ãç†è§£ã™ã‚‹</h1> <h2 id="ğŸ”·-useeffect"><a href="#ğŸ”·-useeffect" class="header-anchor">#</a> ğŸ”· useEffect</h2> <h3 id="â–«ï¸-what-is-useeffect"><a href="#â–«ï¸-what-is-useeffect" class="header-anchor">#</a> â–«ï¸ what is <code>useEffect</code></h3> <p><code>useEffect</code> æ˜¯ React ä¸­çš„ä¸€å€‹ Hookï¼Œå®ƒä¸»è¦ç”¨æ–¼è™•ç†å‰¯ä½œç”¨æ“ä½œï¼Œä¾‹å¦‚ç•°æ­¥æ•¸æ“šçš„ç²å–ã€å°å·²æ¸²æŸ“çš„çµæœé€²è¡Œæ›´æ–°æ¸²æŸ“ç­‰ã€‚</p> <ul><li><p>ç¬¬äºŒå€‹åƒæ•¸ï¼šä¾è³´æ•¸çµ„</p> <p><code>useEffect</code> çš„ç¬¬äºŒå€‹åƒæ•¸ï¼Œé€šå¸¸æ˜¯ä¸€å€‹ä¾è³´æ•¸çµ„ï¼Œæ±ºå®šäº† <code>useEffect</code> ä½•æ™‚åŸ·è¡Œã€‚é€™å€‹åƒæ•¸çš„ä½œç”¨æœ‰ä»¥ä¸‹å¹¾ç¨®æƒ…æ³ï¼š</p> <ol><li><p>ç©ºæ•¸çµ„ <code>[]</code>ï¼šç•¶ä¾è³´æ•¸çµ„ç‚ºç©ºæ™‚ï¼Œ<code>useEffect</code> åªæœƒåœ¨çµ„ä»¶æŒ‚è¼‰æ™‚é‹è¡Œä¸€æ¬¡ï¼Œå°±åƒ <code>componentDidMount</code>ã€‚é€™å°æ–¼åƒ…åœ¨çµ„ä»¶æŒ‚è¼‰å’Œå¸è¼‰æ™‚åŸ·è¡Œä¸€æ¬¡çš„æ“ä½œéå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åˆå§‹åŒ–è³‡æ–™</p></li> <li><p>éç©ºæ•¸çµ„ <code>[ä¾è³´1, ä¾è³´2, ...]</code>ï¼šç•¶ä¾è³´æ•¸çµ„ä¸­çš„ä»»ä½•ä¸€å€‹ä¾è³´ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œ<code>useEffect</code> æœƒé‹è¡Œã€‚é€™å°æ–¼éœ€è¦æ ¹æ“šç‰¹å®šç‹€æ…‹æˆ– prop åŸ·è¡Œæ“ä½œçš„æƒ…æ³éå¸¸æœ‰ç”¨ã€‚å¦‚æœä½ å¸Œæœ› <code>useEffect</code> åœ¨æ¯æ¬¡æ¸²æŸ“æ™‚éƒ½é‹è¡Œï¼Œå‰‡ä¸å‚³å…¥ç¬¬äºŒå€‹åƒæ•¸å³å¯ã€‚</p></li></ol> <p>ç°¡è€Œè¨€ä¹‹ï¼Œ<code>useEffect</code> çš„ç¬¬äºŒå€‹åƒæ•¸æ±ºå®šäº†è©² hook ä½•æ™‚åŸ·è¡Œï¼Œå®ƒæä¾›äº†å° hook åŸ·è¡Œçš„ç´°ç²’åº¦æ§åˆ¶ã€‚</p></li> <li><p>side effect(å¤–éƒ¨å½±éŸ¿å…§éƒ¨)ï¼š å¾å¤–éƒ¨ç²å–æ•¸æ“šï¼Œå°å…§éƒ¨æ¸²æŸ“çš„çµæœç”¢ç”Ÿäº†ä½œç”¨</p></li></ul> <h3 id="â–«ï¸-basic-purpose"><a href="#â–«ï¸-basic-purpose" class="header-anchor">#</a> â–«ï¸ Basic Purpose</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;---å›è°ƒä¸­---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ç•¶å‰çš„å€¼ï¼š &quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œçš„ç©ºæ•°ç»„è¡¨ç¤ºåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;***ç»„ä»¶ä¸­***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World! </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œå‡è®¾ä½ çš„æ ¹ DOM å…ƒç´ çš„ id æ˜¯ &quot;root&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> MyComponent<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>è¼¸å‡ºçµæœ</p></blockquote> <ul><li><p>å¦‚æœç»„ä»¶é¦–æ¬¡æŒ‚è½½ï¼ˆåŠ è½½ï¼‰ï¼Œé‚£ä¹ˆè¾“å‡ºå°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
null
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
</code></pre></div><ul><li><code>***ç»„ä»¶ä¸­***</code>ä¼šåœ¨æ¯æ¬¡ç»„ä»¶å‡½æ•°è¢«è°ƒç”¨æ—¶è¾“å‡ºã€‚</li> <li><code>---å›è°ƒä¸­---</code>ä¼šåœ¨<code>useEffect</code>çš„å›è°ƒå‡½æ•°å†…éƒ¨è¾“å‡ºï¼Œåªæœ‰åœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</li> <li><code>null</code>æ˜¯å› ä¸ºåœ¨ç»„ä»¶æŒ‚è½½æ—¶ï¼Œ<code>&lt;h1&gt;</code>å…ƒç´ è¿˜æ²¡æœ‰è¢«æ¸²æŸ“åˆ° DOM ä¸­ï¼Œæ‰€ä»¥<code>document.querySelector(&quot;h1&quot;)</code>è¿”å›<code>null</code>ã€‚</li> <li><code>ç•¶å‰çš„å€¼ï¼š 0</code>è¡¨ç¤º<code>count</code>çš„åˆå§‹å€¼ä¸º 0ã€‚</li></ul></li> <li><p>å¦‚æœç”¨æˆ·ç‚¹å‡»<code>&lt;h1&gt;</code>å…ƒç´ ä»¥å¢åŠ <code>count</code>çš„å€¼ï¼Œé‚£ä¹ˆæ¯æ¬¡ç‚¹å‡»åçš„è¾“å‡ºå°†å¦‚ä¸‹æ‰€ç¤ºï¼Œä»¥ç‚¹å‡»ä¸¤æ¬¡ä¸ºä¾‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">1</span>
***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">2</span>
</code></pre></div><ul><li><code>***ç»„ä»¶ä¸­***</code>ä¼šåœ¨æ¯æ¬¡ç»„ä»¶å‡½æ•°è¢«è°ƒç”¨æ—¶è¾“å‡ºã€‚</li> <li><code>---å›è°ƒä¸­---</code>ä¼šåœ¨<code>useEffect</code>çš„å›è°ƒå‡½æ•°å†…éƒ¨è¾“å‡ºï¼Œä½†å®ƒåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ä¹‹åç‚¹å‡»<code>&lt;h1&gt;</code>å…ƒç´ ä¸ä¼šå†æ¬¡è§¦å‘è¯¥è¾“å‡ºã€‚</li> <li><code>&lt;h1&gt;Hello World! 1&lt;/h1&gt;</code>å’Œ<code>&lt;h1&gt;Hello World! 2&lt;/h1&gt;</code>æ˜¯æ¯æ¬¡ç‚¹å‡»åï¼ŒReact é‡æ–°æ¸²æŸ“ç»„ä»¶åç”Ÿæˆçš„<code>&lt;h1&gt;</code>å…ƒç´ ã€‚</li> <li><code>ç•¶å‰çš„å€¼ï¼š 1</code>å’Œ<code>ç•¶å‰çš„å€¼ï¼š 2</code>è¡¨ç¤º<code>count</code>çš„å€¼åœ¨æ¯æ¬¡ç‚¹å‡»åæ›´æ–°ã€‚</li></ul></li></ul> <h3 id="â–«ï¸-second-argument-dependency-array"><a href="#â–«ï¸-second-argument-dependency-array" class="header-anchor">#</a> â–«ï¸ Second Argument - Dependency Array</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> setPage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;---å›è°ƒä¸­---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ç•¶å‰çš„å€¼ï¼š &quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>page<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œçš„ç©ºæ•°ç»„è¡¨ç¤ºåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;***ç»„ä»¶ä¸­***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World! </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setPage</span><span class="token punctuation">(</span>page <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Next Page </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœåŒæ—¶ç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ å’Œ &quot;Next Page&quot; æŒ‰é’®ï¼Œä¼šåŒæ—¶è§¦å‘<code>count</code>å’Œ<code>page</code>çš„æ›´æ–°ï¼Œå› æ­¤<code>useEffect</code>å°†åœ¨ä¸¤è€…ä¹‹é—´äº¤æ›¿è§¦å‘ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„æ‰“å°ç»“æœç¤ºä¾‹ï¼š</p> <ol><li><p>åˆå§‹æ¸²æŸ“ï¼ˆæŒ‚è½½ï¼‰åï¼Œç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ å’Œ &quot;Next Page&quot; æŒ‰é’®ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
</code></pre></div><ul><li>åˆå§‹æ¸²æŸ“æ—¶ï¼Œ<code>count</code> çš„å€¼ä¸º 0ï¼Œ<code>page</code> çš„å€¼ä¸º 1ã€‚</li> <li>åŒæ—¶ç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ å’Œ &quot;Next Page&quot; æŒ‰é’®ï¼Œ<code>count</code> å’Œ <code>page</code> çš„å€¼ä¼šåŒæ—¶æ›´æ–°ï¼Œä½†æ˜¯ç”±äº<code>useEffect</code>çš„ä¾èµ–æ•°ç»„åŒ…å«äº†è¿™ä¸¤è€…ï¼Œå®ƒä¼šåœ¨å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚æ‰€ä»¥ <code>useEffect</code> æ‰“å°äº†æ–°çš„ <code>count</code> å€¼ä¸º 0 å’Œæ–°çš„ <code>page</code> å€¼ä¸º 2ï¼Œä»¥åŠå…¶ä»–ä¿¡æ¯ã€‚</li></ul></li> <li><p>ç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ åå†ç‚¹å‡» &quot;Next Page&quot; æŒ‰é’®ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">0</span>
***ç»„ä»¶ä¸­***
---å›è°ƒä¸­---
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Hello World<span class="token operator">!</span> <span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
ç•¶å‰çš„å€¼ï¼š <span class="token number">1</span>
</code></pre></div><ul><li>é¦–å…ˆç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ ï¼Œ<code>count</code> çš„å€¼é€’å¢åˆ° 1ï¼Œä½† <code>page</code> ä»ç„¶æ˜¯ 1ï¼Œæ‰€ä»¥ <code>useEffect</code> ä¸ä¼šè§¦å‘ã€‚</li> <li>ç„¶åç‚¹å‡» &quot;Next Page&quot; æŒ‰é’®ï¼Œ<code>page</code> çš„å€¼ä» 1 å¢åŠ åˆ° 2ï¼ŒåŒæ—¶ <code>count</code> ä»ç„¶æ˜¯ 1ï¼Œè¿™æ¬¡ <code>useEffect</code> ä¼šè§¦å‘ï¼Œå¹¶æ‰“å°æ–°çš„ <code>page</code> å€¼ä¸º 2ï¼Œä»¥åŠå…¶ä»–ä¿¡æ¯ã€‚</li></ul></li></ol> <p>æ€»ç»“ï¼šåŒæ—¶ç‚¹å‡» &quot;Hello World!&quot; <code>&lt;h1&gt;</code> å…ƒç´ å’Œ &quot;Next Page&quot; æŒ‰é’®ä¼šå¯¼è‡´<code>count</code>å’Œ<code>page</code>çš„å€¼åŒæ—¶æ›´æ–°ï¼Œä½†æ˜¯ç”±äº<code>useEffect</code>çš„ä¾èµ–æ•°ç»„åŒ…å«äº†è¿™ä¸¤è€…ï¼Œå®ƒä¼šåœ¨å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ï¼Œä»è€Œæ‰“å°å‡ºç›¸åº”çš„ä¿¡æ¯ã€‚<code>***ç»„ä»¶ä¸­***</code> åœ¨æ¯æ¬¡ç»„ä»¶å‡½æ•°è¢«è°ƒç”¨æ—¶éƒ½ä¼šè¾“å‡ºï¼Œä½†å®ƒä¸è¿™ä¸¤ä¸ªå€¼æ— å…³ã€‚</p> <h3 id="â–«ï¸-return-of-cleanup-function"><a href="#â–«ï¸-return-of-cleanup-function" class="header-anchor">#</a> â–«ï¸ Return of Cleanup Function</h3> <p>ç†è§£æ¸…é™¤å‡½æ•° (<code>return</code> å‡½æ•°) åœ¨ <code>useEffect</code> ä¸­çš„ä½œç”¨éå¸¸é‡è¦ï¼Œå®ƒç”¨äºå¤„ç†å‰¯ä½œç”¨çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾ã€‚ä»¥ä¸‹æ˜¯å…³äºä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤å‡½æ•°ä»¥åŠä¸€äº›å¸¸è§ç”¨ä¾‹çš„ä¼˜åŒ–ç¬”è®°ï¼š</p> <blockquote><p>ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤å‡½æ•°ï¼Ÿ</p></blockquote> <ol><li><p>å› ç‚º <code>useEffect</code> æœƒåè¦†åŸ·è¡Œ</p></li> <li><p><strong>èµ„æºé‡Šæ”¾</strong>ï¼š<code>useEffect</code> å¯ä»¥ç”¨äºå¤„ç†éœ€è¦æ¸…ç†çš„æ“ä½œï¼Œæ¯”å¦‚å…³é—­æ•°æ®åº“è¿æ¥ã€å–æ¶ˆç½‘ç»œè¯·æ±‚ã€æ¸…é™¤å®šæ—¶å™¨ç­‰ã€‚è¿™æ˜¯å› ä¸ºåœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹ä¸€æ¬¡ <code>useEffect</code> è§¦å‘ä¹‹å‰ï¼ŒReact ä¼šè°ƒç”¨æ¸…é™¤å‡½æ•°ï¼Œä»¥ç¡®ä¿èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œä¸å¿…è¦çš„èµ„æºå ç”¨ã€‚</p></li> <li><p><strong>é˜²æ­¢å‰¯ä½œç”¨çš„é‡å¤æ‰§è¡Œ</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç»„ä»¶çš„é‡æ–°æ¸²æŸ“å¯èƒ½ä¼šå¯¼è‡´ <code>useEffect</code> å¤šæ¬¡è§¦å‘ã€‚é€šè¿‡æ¸…é™¤å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨æ¯æ¬¡ <code>useEffect</code> è§¦å‘å‰æ¸…ç†ä¹‹å‰çš„å‰¯ä½œç”¨ï¼Œä»¥ç¡®ä¿åªæ‰§è¡Œæœ€æ–°çš„æ“ä½œï¼Œè€Œä¸é‡å¤æ‰§è¡Œã€‚</p></li></ol> <p>ğŸ”» ã‚·ãƒŠãƒªã‚ª</p> <ul><li>æ¸…é™¤å®šæ—¶å™¨</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰§è¡Œä¸€äº›æ“ä½œ</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šè¿°ä»£ç ç¤ºä¾‹åˆ›å»ºäº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¹¶ä¸”é€šè¿‡è¿”å›çš„æ¸…é™¤å‡½æ•°æ¥æ¸…é™¤å®šæ—¶å™¨ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹ä¸€æ¬¡ <code>useEffect</code> è§¦å‘ä¹‹å‰ï¼Œå®šæ—¶å™¨ä¼šè¢«æ­£ç¡®æ¸…é™¤ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œä¸å¿…è¦çš„æ‰§è¡Œã€‚</p> <ul><li>æ–­å¼€æ•°æ®åº“è¿æ¥</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¿æ¥åˆ°æ•°æ®åº“</span>

  <span class="token comment">// æ¸…ç†æ•°æ®åº“è¿æ¥</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ–­å¼€æ•°æ®åº“è¿æ¥</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>useEffect</code> ç”¨äºè¿æ¥æ•°æ®åº“ï¼Œå¹¶é€šè¿‡è¿”å›çš„æ¸…é™¤å‡½æ•°æ¥æ–­å¼€æ•°æ®åº“è¿æ¥ã€‚è¿™ç¡®ä¿äº†åœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹ä¸€æ¬¡ <code>useEffect</code> è§¦å‘ä¹‹å‰ï¼Œæ•°æ®åº“è¿æ¥ä¼šè¢«æ­£ç¡®å…³é—­ã€‚</p> <ul><li>å–æ¶ˆç½‘ç»œè¯·æ±‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://api.example.com/data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span>signal <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤„ç†å“åº”æ•°æ®</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&quot;AbortError&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è¯·æ±‚è¢«å–æ¶ˆ</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†å…¶ä»–é”™è¯¯</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¸…é™¤æ§åˆ¶å™¨ä»¥å–æ¶ˆç½‘ç»œè¯·æ±‚</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>AbortController</code> æ¥æ§åˆ¶ç½‘ç»œè¯·æ±‚ï¼Œå¹¶é€šè¿‡è¿”å›çš„æ¸…é™¤å‡½æ•°æ¥å–æ¶ˆç½‘ç»œè¯·æ±‚ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹ä¸€æ¬¡ <code>useEffect</code> è§¦å‘ä¹‹å‰ï¼Œç½‘ç»œè¯·æ±‚ä¼šè¢«æ­£ç¡®å–æ¶ˆã€‚</p> <p>æ€»ä¹‹ï¼Œæ¸…é™¤å‡½æ•°åœ¨å¤„ç†å‰¯ä½œç”¨çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾æ—¶éå¸¸é‡è¦ã€‚å®ƒå…è®¸ä½ åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­ç®¡ç†èµ„æºï¼Œç¡®ä¿å®ƒä»¬è¢«æ­£ç¡®é‡Šæ”¾ï¼Œä»è€Œé¿å…æ½œåœ¨çš„é—®é¢˜ã€‚</p> <h3 id="â–«ï¸-execution-timing"><a href="#â–«ï¸-execution-timing" class="header-anchor">#</a> â–«ï¸ Execution Timing</h3> <blockquote><p>åœ¨ useEffect çš„å›è°ƒå‡½æ•°ä¸­ï¼Œå½“ä¾èµ–æ•°ç»„ä¸­çš„æŸäº›ä¾èµ–å‘ç”Ÿå˜åŒ–æˆ–è€…ç»„ä»¶è¢«å¸è½½æ—¶ï¼ŒReact ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ä¸­çš„è¿”å›å€¼å‡½æ•°ï¼ˆæ¸…é™¤å‡½æ•°ï¼‰ã€‚è¿™æ˜¯ç¡®ä¿åœ¨é‡æ–°è¿è¡Œ useEffect ä¹‹å‰ï¼Œæ¸…ç†ä¹‹å‰å‰¯ä½œç”¨çš„æœºåˆ¶ã€‚</p></blockquote> <ul><li><p>çµ„ä»¶è¢«éŠ·æ¯€æ™‚</p></li> <li><p>ç¬¬äºŒæ¬¡åŸ·è¡Œå›èª¿æ™‚ï¼Œæœƒå…ˆåŸ·è¡Œä¸Šä¸€æ¬¡å›èª¿ä¸­çš„è¿”å›å€¼å‡½æ•¸</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;---å›è°ƒä¸­---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;~~~å›èª¿ä¸­è¿”å›å€¼å‡½æ•¸~~~&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>page<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;***çµ„ä»¶ä¸­***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰“å°çµæœï¼š</p></li></ul> <ol><li><p>ç¬¬ä¸€æ¬¡æ‰“å°ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***çµ„ä»¶ä¸­***
---å›è°ƒä¸­---
</code></pre></div></li> <li><p>ç¬¬äºŒæ¬¡æ‰“å°ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>***çµ„ä»¶ä¸­***
~~~å›èª¿ä¸­è¿”å›å€¼å‡½æ•¸~~~ <span class="token number">0</span>
---å›è°ƒä¸­---
</code></pre></div></li></ol> <p>å¾ç¬¬äºŒæ¬¡æ‰“å°ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œå¦‚æœ <code>page</code> çš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆ <code>useEffect</code>çš„å›è°ƒå‡½æ•°å°†ä¼šå†æ¬¡æ‰§è¡Œã€‚ä½†åœ¨æ‰§è¡Œæ–°çš„å›è°ƒå‡½æ•°ä¹‹å‰ï¼ŒReact ä¼šå…ˆæ‰§è¡Œä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°ä¸­çš„è¿”å›å€¼å‡½æ•°ï¼ˆæ¸…é™¤å‡½æ•°ï¼‰ï¼Œç„¶åå†æ‰§è¡Œæ–°çš„å›è°ƒå‡½æ•°ã€‚è¿™ç¡®ä¿äº†åœ¨é‡æ–°è¿è¡Œ useEffect ä¹‹å‰ï¼Œå¯ä»¥æ¸…ç†ä¹‹å‰çš„å‰¯ä½œç”¨ã€‚</p> <h3 id="â–«ï¸-usage-limitation-cannot-use-async-functions-directly"><a href="#â–«ï¸-usage-limitation-cannot-use-async-functions-directly" class="header-anchor">#</a> â–«ï¸ Usage Limitation - Cannot Use <code>async</code> Functions Directly</h3> <blockquote><p>å› ä¸º <code>async</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚è¿™æ˜¯å› ä¸º <code>useEffect</code> çš„å›è°ƒå‡½æ•°åº”è¯¥æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸åº”è¯¥è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚</p></blockquote> <blockquote><p>å¦‚æœä½ éœ€è¦åœ¨ <code>useEffect</code> ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ª async å‡½æ•°ï¼Œç„¶ååœ¨è¿™ä¸ª async å‡½æ•°å†…éƒ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://api.example.com/data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œä¾‹å¦‚æ›´æ–° state</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿé”™è¯¯ï¼š&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ <code>useEffect</code> çš„å›è°ƒå‡½æ•°å†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>fetchData</code> çš„ async å‡½æ•°ï¼Œç„¶ååœ¨å…¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©ä½ åœ¨ <code>useEffect</code> ä¸­å¤„ç†å¼‚æ­¥é€»è¾‘ï¼Œä½†ä¾ç„¶ä¿æŒäº†å›è°ƒå‡½æ•°çš„åŒæ­¥æ€§è´¨ã€‚</p> <p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ async å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨ <code>await</code> å…³é”®å­—ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆï¼Œä½†æ•´ä¸ªå›è°ƒå‡½æ•°ä»ç„¶æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œä¸ä¼šç­‰å¾…å¼‚æ­¥æ“ä½œçš„å®Œæˆã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ async å‡½æ•°æ—¶ï¼Œè¦ç¡®ä¿æ­£ç¡®å¤„ç†å¼‚æ­¥æ“ä½œçš„ç»“æœå’Œé”™è¯¯ã€‚</p> <h2 id="ğŸ”·-useref"><a href="#ğŸ”·-useref" class="header-anchor">#</a> ğŸ”· useRef</h2> <h3 id="â–«ï¸-what-is-useref"><a href="#â–«ï¸-what-is-useref" class="header-anchor">#</a> â–«ï¸ what is <code>useRef</code></h3> <p><code>useRef</code> æ˜¯ React ä¸­çš„ä¸€ä¸ª Hookï¼Œå®ƒå¯ä»¥ç”¨äºè·å–æˆ–å­˜å‚¨ç»„ä»¶çš„å¼•ç”¨ã€‚å®ƒç±»ä¼¼äº class ç»„ä»¶ä¸­çš„ <code>ref</code> å±æ€§ï¼Œä½†æ˜¯å®ƒå¯ä»¥ç”¨äºå‡½æ•°ç»„ä»¶ã€‚ <code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ <code>.current</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆ<code>initialValue</code>ï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚</p> <h3 id="â–«ï¸-basic-purpose-2"><a href="#â–«ï¸-basic-purpose-2" class="header-anchor">#</a> â–«ï¸ Basic Purpose</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">èšç„¦è¾“å…¥æ¡†</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>useRef</code> åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>inputRef</code> çš„ ref å¯¹è±¡ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ <code>&lt;input&gt;</code> å…ƒç´ çš„ <code>ref</code> å±æ€§ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>inputRef.current</code> æ¥è·å– <code>&lt;input&gt;</code> å…ƒç´ çš„å¼•ç”¨ã€‚</p> <p>åœ¨ <code>handleClick</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>inputRef.current.focus()</code> æ¥èšç„¦ <code>&lt;input&gt;</code> å…ƒç´ ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·ç‚¹å‡» &quot;Focus the input&quot; æŒ‰é’®æ—¶ï¼Œ<code>&lt;input&gt;</code> å…ƒç´ å°±ä¼šè¢«èšç„¦ã€‚</p> <h3 id="â–«ï¸-usage-limitation-cannot-use-useref-to-update-state"><a href="#â–«ï¸-usage-limitation-cannot-use-useref-to-update-state" class="header-anchor">#</a> â–«ï¸ Usage Limitation - Cannot Use <code>useRef</code> to Update State</h3> <blockquote><p><code>useRef</code> ä¸èƒ½ç”¨äºæ›´æ–°ç»„ä»¶çš„ stateã€‚è¿™æ˜¯å› ä¸º <code>useRef</code> è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œè€Œ <code>useState</code> ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶è¿”å›ä¸€ä¸ªæ–°çš„ state å€¼ã€‚</p></blockquote> <blockquote><p>å¦‚æœä½ éœ€è¦åœ¨ <code>useRef</code> ä¸­æ›´æ–° stateï¼Œå¯ä»¥ä½¿ç”¨ <code>useRef</code> çš„ <code>.current</code> å±æ€§æ¥å­˜å‚¨ state çš„å€¼ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> countRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleAlertClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked on: &quot;</span> <span class="token operator">+</span> countRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment-useState</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleAlertClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Show alert-useRef</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>åœ¨é€™å€‹ç¤ºä¾‹ä¸­ï¼Œ æˆ‘å€‘ä½¿ç”¨ <code>useRef</code> å‰µå»ºäº†ä¸€å€‹åç‚º <code>countRef</code> çš„ ref å°è±¡ï¼Œä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘åœ¨ <code>handleAlertClick</code> å‡½æ•¸ä¸­ä½¿ç”¨ <code>countRef.current</code> ä¾†ç²å– <code>count</code> çš„å€¼ã€‚é€™æ¨£ï¼Œç•¶ç”¨æˆ¶é»æ“Š &quot;Show alert&quot; æŒ‰éˆ•æ™‚ï¼Œæˆ‘å€‘å°±å¯ä»¥ç²å– <code>count</code> çš„å€¼ã€‚</p> <p>ç•¶é»æ“Š <code>Increment</code> å¾Œï¼Œ <code>count</code> çš„å€¼æœƒå¢åŠ ï¼Œä½†æ˜¯ <code>countRef.current</code> çš„å€¼ä»ç„¶æ˜¯ 0ã€‚é€™æ˜¯å› ç‚º <code>useRef</code> è¿”å›çš„ ref å°è±¡åœ¨çµ„ä»¶çš„<strong>æ•´å€‹ç”Ÿå‘½å‘¨æœŸ</strong>å…§ä¿æŒä¸è®Šï¼Œè€Œ <code>useState</code> æœƒåœ¨æ¯æ¬¡æ¸²æŸ“æ™‚è¿”å›ä¸€å€‹æ–°çš„ state å€¼ã€‚</p> <table><thead><tr><th></th> <th><code>useState</code></th> <th><code>useRef</code></th></tr></thead> <tbody><tr><td>ä¿®æ”¹å€¼çš„æ™‚å€™</td> <td>è§¸ç™¼é‡æ–°æ¸²æŸ“</td> <td><strong>ä¸</strong>è§¸ç™¼é‡æ–°æ¸²æŸ“</td></tr> <tr><td>çµ„ä»¶é‡æ–°æ¸²æŸ“æ™‚</td> <td>ç²å–ä¹‹å‰çš„å€¼</td> <td>ç²å–ä¹‹å‰å€¼</td></tr></tbody></table> <p>ğŸ”º ã‚·ãƒŠãƒªã‚ªï¼š</p> <ul><li>å®šæ™‚å™¨æ¡ˆä¾‹ï¼šç•¶æˆ‘å€‘ä¸éœ€è¦å®ƒæ¸²æŸ“å¾Œçš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®ƒæ¸²æŸ“å‰çš„å€¼æ™‚ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>useRef</code>ã€‚</li></ul> <blockquote><p>ä¸ä½¿ç”¨ <code>useRef</code> çš„æƒ…æ³ï¼Œ ä»¥ä¸‹ï¼š æ¯æ¬¡é»æ“Šï¼Œéƒ½æ¸…é™¤ä¹‹å‰çš„å®šæ™‚å™¨ï¼Œçœ‹ä¸Šå»æ²’æœ‰å•é¡Œã€‚ ä½†å…¶å¯¦å¦‚æœçµ„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæ˜¯ä¸æœƒæ¸…é™¤ä¹‹å‰å®šæ™‚å™¨çš„ï¼Œ æœ¬æ¬¡çš„ timer èˆ‡ä¸Šä¸€æ¬¡çš„ timer ä¸ä¸€æ¨£</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ä½¿ç”¨<code>useRef</code> ä¹‹å¾Œ</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é€™å€‹ç¤ºä¾‹ä¸­ï¼Œ æˆ‘å€‘ä½¿ç”¨ <code>useRef</code> å‰µå»ºäº†ä¸€å€‹åç‚º <code>countRef</code> çš„ ref å°è±¡ï¼Œä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘åœ¨ <code>handleAlertClick</code> å‡½æ•¸ä¸­ä½¿ç”¨ <code>countRef.current</code> ä¾†ç²å– <code>count</code> çš„å€¼ã€‚é€™æ¨£ï¼Œç•¶ç”¨æˆ¶é»æ“Š &quot;Show alert&quot; æŒ‰éˆ•æ™‚ï¼Œæˆ‘å€‘å°±å¯ä»¥ç²å– <code>count</code> çš„å€¼ã€‚</p> <p>ç•¶é»æ“Š <code>Increment</code> å¾Œï¼Œ <code>count</code> çš„å€¼æœƒå¢åŠ ï¼Œä½†æ˜¯ <code>countRef.current</code> çš„å€¼ä»ç„¶æ˜¯ 0ã€‚é€™æ˜¯å› ç‚º <code>useRef</code> è¿”å›çš„ ref å°è±¡åœ¨çµ„ä»¶çš„<strong>æ•´å€‹ç”Ÿå‘½å‘¨æœŸ</strong>å…§ä¿æŒä¸è®Šï¼Œè€Œ <code>useState</code> æœƒåœ¨æ¯æ¬¡æ¸²æŸ“æ™‚è¿”å›ä¸€å€‹æ–°çš„ state å€¼ã€‚</p> <ul><li>ä¿®æ”¹<code>dom</code>çš„å€¼</li></ul> <ol><li>è®Šé‡å¼•ç”¨çš„æ–¹å¼ - åœ¨<code>&lt;h1&gt;</code>å…ƒç´ ä¸Šä½¿ç”¨ ref å±æ€§ï¼Œå°† h1Ref å¼•ç”¨å¯¹è±¡ä¸è¯¥ DOM å…ƒç´ å…³è”ã€‚è¿™æ ·ï¼Œ<code>h1Ref.current</code> å°±å¯ä»¥è®¿é—®åˆ°è¿™ä¸ª DOM å…ƒç´ ã€‚</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> h1Ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    h1Ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>h1Ref<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello React!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Change the h1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>åœ¨è¿™ä¸ª React å‡½æ•°ç»„ä»¶ä¸­ï¼Œè¦æ³¨æ„æ¸²æŸ“å’Œæ‹¿åˆ°å€¼çš„é¡ºåºå¦‚ä¸‹ï¼š</p> <ol><li><p>åœ¨ç»„ä»¶æ¸²æŸ“ä¹‹åˆï¼Œä¼šåˆ›å»ºä¸€ä¸ª<code>h1Ref</code>å¼•ç”¨å¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–ä¸º<code>null</code>ã€‚åœ¨å…ƒç´ ä¸Šä½¿ç”¨ ref å±æ€§ï¼Œå°†<code>h1Ref</code>å¼•ç”¨å¯¹è±¡ä¸è¯¥ DOM å…ƒç´ å…³è”ã€‚è¿™æ ·ï¼Œ<code>h1Ref.current</code>å°±å¯ä»¥è®¿é—®åˆ°è¿™ä¸ª DOM å…ƒç´ ã€‚</p></li> <li><p>æ¸²æŸ“é˜¶æ®µï¼šReact ä¼šé¦–å…ˆæ¸²æŸ“ç»„ä»¶çš„ UIï¼ŒåŒ…æ‹¬ å…ƒç´ å’ŒæŒ‰é’®ã€‚æ­¤æ—¶ï¼Œ<code>h1Ref</code>ä»ç„¶æ˜¯<code>null</code>ã€‚å½“é¡µé¢é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œ å…ƒç´ çš„å†…å®¹æ˜¾ç¤ºä¸º&quot;Hello React!&quot;ã€‚</p></li> <li><p>ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åï¼Œè§¦å‘<code>handleClick</code>å‡½æ•°ã€‚</p></li> <li><p>åœ¨<code>handleClick</code>å‡½æ•°å†…éƒ¨ï¼Œé€šè¿‡<code>h1Ref.current</code>æ¥è®¿é—®å¼•ç”¨çš„ DOM å…ƒç´ ï¼Œå°è¯•ä¿®æ”¹å…¶<code>innerHTML</code>å±æ€§ä¸º<code>&quot;Hello World!&quot;ã€‚</code></p></li> <li><p>ç”±äº React çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸Šè¿° DOM ä¿®æ”¹æ˜¯åœ¨ç»„ä»¶çš„æ¸²æŸ“å®Œæˆåæ‰æ‰§è¡Œçš„ã€‚è¿™æ˜¯å› ä¸º React ä¼šåœ¨æ¸²æŸ“é˜¶æ®µè®°å½•ä¸‹éœ€è¦è¿›è¡Œçš„ DOM æ›´æ–°æ“ä½œï¼Œå¹¶åœ¨æ¸²æŸ“å®Œæˆåæ‰æ‰§è¡Œè¿™äº›æ“ä½œï¼Œä»¥ç¡®ä¿æ€§èƒ½å’Œä¸€è‡´æ€§ã€‚</p></li></ol> <p>æ‰€ä»¥ï¼Œè™½ç„¶åœ¨<code>handleClick</code>å‡½æ•°ä¸­è®¿é—®äº†<code>h1Ref.current</code>ï¼Œä½†å®é™…çš„ DOM æ“ä½œæ˜¯åœ¨æ¸²æŸ“å®Œæˆåæ‰è¿›è¡Œçš„ã€‚å› æ­¤ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé¡µé¢ä¸Šçš„ å…ƒç´ ä¼šè¢«ä¿®æ”¹ä¸º&quot;Hello World!&quot;ã€‚è¿™å°±æ˜¯ React çš„æ¸²æŸ“å’Œ DOM æ›´æ–°æœºåˆ¶çš„åŸºæœ¬å·¥ä½œåŸç†ã€‚</p></li></ul> <ol start="2"><li>å›èª¿å‡½æ•¸çš„æ–¹å¼</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> h1Ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    h1Ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span>
        <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">thisDom</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>thisDom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            thisDom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
            h1Ref<span class="token punctuation">.</span>current <span class="token operator">=</span> thisDom<span class="token punctuation">;</span> <span class="token comment">// Update the reference of h1Ref</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Hello React!
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Change the h1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p><code>useRef</code>çš„å›è°ƒå‡½æ•°æ–¹å¼æ¥å¼•ç”¨ DOM å…ƒç´ å¹¶ä¿®æ”¹å…¶æ ·å¼ã€‚</p> <ol><li><p>åœ¨<code>&lt;h1&gt;</code>å…ƒç´ ä¸Šä½¿ç”¨<code>ref</code>å±æ€§ï¼Œä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°<code>thisDom</code>ï¼Œå®ƒä»£è¡¨äº†<code>&lt;h1&gt;</code>å…ƒç´ çš„ DOM å¯¹è±¡ã€‚</p></li> <li><p>åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œé¦–å…ˆæ£€æŸ¥<code>thisDom</code>æ˜¯å¦å­˜åœ¨ï¼Œä»¥é˜²æ­¢åœ¨æŸäº›æƒ…å†µä¸‹ä¸º<code>null</code>ã€‚å¦‚æœ<code>thisDom</code>å­˜åœ¨ï¼Œå°±åœ¨å…¶ä¸­è®¾ç½®æ ·å¼<code>background</code>ä¸º'green'ã€‚</p></li> <li><p>ç„¶åï¼Œé€šè¿‡<code>h1Ref.current = thisDom</code>æ¥æ›´æ–°<code>h1Ref</code>çš„å¼•ç”¨ï¼Œä»¥ç¡®ä¿<code>h1Ref</code>å¼•ç”¨çš„å§‹ç»ˆæ˜¯å½“å‰çš„ DOM å…ƒç´ ã€‚</p></li></ol> <p>ç°åœ¨ï¼Œå½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œ<code>&lt;h1&gt;</code>å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ä¼šè¢«è®¾ç½®ä¸ºç»¿è‰²ï¼Œå¹¶ä¸”ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨<code>h1Ref.current</code>æ¥è®¿é—®å®ƒä»¥è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/memo/typescript.html" class="prev">
        âšªï¸ Typescript æ·±ã„ç†è§£ã¨å®Ÿè·µ
      </a></span> <span class="next"><a href="/memo/redux.html">
        âšªï¸ React Redux ã‚’åŸºç¤ã‹ã‚‰ç†è§£ã™ã‚‹
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.204ed3d4.js" defer></script><script src="/assets/js/2.a44fb3b0.js" defer></script><script src="/assets/js/1.8d37d391.js" defer></script><script src="/assets/js/50.88e721ab.js" defer></script>
  </body>
</html>
